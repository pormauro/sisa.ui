{
  "info": {
    "_postman_id": "3a901196-e91b-4348-a251-8a5c013b4a5b",
    "name": "Sistema",
    "description": "Colección documentada para el sistema SISA. Incluye comentarios y notas sobre el uso del token Bearer y los endpoints disponibles.\n\nPrefijo opcional: Los endpoints aceptan tanto rutas directas (por ejemplo `/invoices`) como llamadas con `/api` (`/api/invoices`). Si el servidor requiere otro prefijo, ajústalo mediante la variable de entorno API_BASE_PATH.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "15065162"
  },
  "item": [
    {
      "name": "Session",
      "item": [
        {
          "name": "register",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"username\": \"pormauro\",\r\n  \"email\": \"pormauro@gmail.com\",\r\n  \"password\": \"6uWhg!8ke18#uH((yaPPiGA^\"\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/register",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "register"
              ]
            },
            "description": "**POST {{base_url}}/register**\n\nDescripción: Endpoint `register` dentro de Session.\n\n> Comentario: Endpoint público para iniciar sesión o registrar usuarios. No requiere encabezado Authorization."
          },
          "response": []
        },
        {
          "name": "profile",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/profile",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "profile"
              ]
            },
            "description": "**GET {{base_url}}/profile**\n\nDescripción: Endpoint `profile` dentro de Session.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "profile list(solo para el super usuario)",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/profiles",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "profiles"
              ]
            },
            "description": "**GET {{base_url}}/profiles**\n\nDescripción: Endpoint `profile list(solo para el super usuario)` dentro de Session.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "token refresh",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/token/refresh",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "token",
                "refresh"
              ]
            },
            "description": "**POST {{base_url}}/token/refresh**\\n\\nDescripción: endpoint para solicitar un nuevo JWT sin volver a iniciar sesión.\\n\\n> Comentario: Requiere header Authorization con `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "forgot_password",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"email\": \"pormauro@gmail.com\"\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/forgot_password",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "forgot_password"
              ]
            },
            "description": "**POST {{base_url}}/forgot_password**\n\nDescripción: Endpoint `forgot_password` dentro de Session.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "reset_password",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"new_password\": \"nuevaContraseña1234\"\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/reset_password",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "reset_password"
              ]
            },
            "description": "**POST {{base_url}}/reset_password**\n\nDescripción: Endpoint `reset_password` dentro de Session.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {\r",
                  "    let authHeader = pm.response.headers.get(\"Authorization\");\r",
                  "    if (authHeader && authHeader.startsWith(\"Bearer \")) {\r",
                  "        let token = authHeader.replace(\"Bearer \", \"\").trim();\r",
                  "\r",
                  "        // Guardar el token en variables reutilizables\r",
                  "        pm.collectionVariables.set(\"auth_token\", token);\r",
                  "        pm.collectionVariables.set(\"token\", token);\r",
                  "\r",
                  "        try {\r",
                  "            pm.environment.set(\"auth_token\", token);\r",
                  "            pm.environment.set(\"token\", token);\r",
                  "        } catch (error) {\r",
                  "            console.warn(\"No environment selected; token stored only at collection level.\");\r",
                  "        }\r",
                  "\r",
                  "        pm.globals.set(\"Token\", token);\r",
                  "        pm.globals.set(\"token\", token);\r",
                  "\r",
                  "        // Mostrar en consola\r",
                  "        console.log(\"=== TOKEN CAPTURADO ===\");\r",
                  "        console.log(token);\r",
                  "        console.log(\"=======================\");\r",
                  "\r",
                  "        // Mostrar en la pestaña \"Visualize\"\r",
                  "        pm.visualizer.set(`\r",
                  "            <div style=\"font-family: monospace; padding: 10px;\">\r",
                  "                <h3 style=\"color: green;\">Token guardado en auth_token (colección), token y Token</h3>\r",
                  "                <pre>${token}</pre>\r",
                  "            </div>\r",
                  "        `);\r",
                  "    } else {\r",
                  "        console.log(\"No se encontró el header Authorization con Bearer.\");\r",
                  "    }\r",
                  "}\r",
                  "\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"username\": \"pormauro\",\r\n  \"password\": \"34935933Yo!\"\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/login",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "login"
              ]
            },
            "description": "**POST {{base_url}}/login**\n\nDescripción: Endpoint `login` dentro de Session.\n\n> Comentario: Endpoint público para iniciar sesión o registrar usuarios. No requiere encabezado Authorization."
          },
          "response": []
        }
      ],
      "description": "Operaciones relacionadas con el inicio de sesión y gestión de credenciales. Solo los endpoints 'register' y 'login' son públicos; el resto requiere token Bearer."
    },
    {
      "name": "File",
      "item": [
        {
          "name": "Get File",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/files/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "files",
                "1"
              ]
            },
            "description": "**GET {{baseUrl}}/files/1**\n\nDescripción: Endpoint `Get File` dentro de File.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Upload File",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": "/C:/Users/Mauri/Pictures/0.jpg"
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/files",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "files"
              ]
            },
            "description": "**POST {{baseUrl}}/files**\n\nDescripción: Endpoint `Upload File` dentro de File.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        }
      ],
      "description": "Endpoints para gestionar File. Utiliza autenticación Bearer mediante la variable `{{auth_token}}`."
    },
    {
      "name": "UserProfile",
      "item": [
        {
          "name": "POST",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n   \"full_name\": \"Test User\",\r\n  \"phone\": \"123456789\",\r\n  \"address\": \"Test Address\",\r\n  \"cuit\": \"123456789\",\r\n  \"profile_file_id\": null\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "https://sistema.depros.com.ar/user_profile",
              "protocol": "https",
              "host": [
                "sistema",
                "depros",
                "com",
                "ar"
              ],
              "path": [
                "user_profile"
              ]
            },
            "description": "**POST https://sistema.depros.com.ar/user_profile**\n\nDescripción: Endpoint `POST` dentro de UserProfile.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "GET",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/user_profile",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "user_profile"
              ],
              "query": [
                {
                  "key": "",
                  "value": "",
                  "disabled": true
                }
              ]
            },
            "description": "**GET {{base_url}}/user_profile**\n\nDescripción: Endpoint `GET` dentro de UserProfile.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "GET by User ID",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/user_profiles/2",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "user_profiles",
                "2"
              ],
              "query": [
                {
                  "key": "",
                  "value": "",
                  "disabled": true
                }
              ]
            },
            "description": "**GET {{base_url}}/user_profiles/2**\n\nDescripción: Endpoint `GET by User ID` dentro de UserProfile.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "PUT",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"full_name\": \"pormauro\",\r\n    \"phone\": \"111111111111\",\r\n    \"address\": \"\",\r\n    \"cuit\": \"23145689\",\r\n    \"profile_file_id\": null\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "https://sistema.depros.com.ar/user_profile",
              "protocol": "https",
              "host": [
                "sistema",
                "depros",
                "com",
                "ar"
              ],
              "path": [
                "user_profile"
              ]
            },
            "description": "**PUT https://sistema.depros.com.ar/user_profile**\n\nDescripción: Endpoint `PUT` dentro de UserProfile.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "DELETE",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "https://sistema.depros.com.ar/user_profile/1",
              "protocol": "https",
              "host": [
                "sistema",
                "depros",
                "com",
                "ar"
              ],
              "path": [
                "user_profile",
                "1"
              ]
            },
            "description": "**DELETE https://sistema.depros.com.ar/user_profile/1**\n\nDescripción: Endpoint `DELETE` dentro de UserProfile.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        }
      ],
      "description": "Endpoints para gestionar UserProfile. Utiliza autenticación Bearer mediante la variable `{{auth_token}}`."
    },
    {
      "name": "UserConfigurations",
      "item": [
        {
          "name": "GET",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/user_configurations",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "user_configurations"
              ],
              "query": [
                {
                  "key": "",
                  "value": "",
                  "disabled": true
                }
              ]
            },
            "description": "**GET {{base_url}}/user_configurations**\n\nDescripción: Endpoint `GET` dentro de UserConfigurations.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "GET by Configuration ID",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/user_configurations/{{configuration_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "user_configurations",
                "{{configuration_id}}"
              ]
            },
            "description": "**GET {{base_url}}/user_configurations/{{configuration_id}}**\\n\\nDescripción: Endpoint `GET by ID` dentro de UserConfigurations.\\n\\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test(\"Respuesta exitosa\", function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "const jsonData = pm.response.json();",
                  "pm.test(\"Incluye configuración\", function () {",
                  "    pm.expect(jsonData).to.have.property('configuration');",
                  "});",
                  "const configuration = jsonData.configuration || {};",
                  "const expectedUserId = pm.collectionVariables.get('user_id');",
                  "const expectedDefaultPayment = pm.collectionVariables.get('default_payment_cash_box_id');",
                  "const expectedDefaultReceiving = pm.collectionVariables.get('default_receiving_cash_box_id');",
                  "pm.test(\"Variable user_id configurada\", function () {",
                  "    pm.expect(expectedUserId, \"Define la variable de colección user_id con el identificador del usuario autenticado\").to.not.be.undefined;",
                  "    pm.expect(expectedUserId, \"Define la variable de colección user_id con el identificador del usuario autenticado\").to.not.eql('');",
                  "});",
                  "pm.test(\"La configuración pertenece al usuario autenticado\", function () {",
                  "    pm.expect(configuration.user_id, \"El ID de usuario devuelto debe coincidir con la variable user_id\").to.eql(parseInt(expectedUserId, 10));",
                  "});",
                  "pm.test(\"Variable default_payment_cash_box_id configurada\", function () {",
                  "    pm.expect(expectedDefaultPayment, \"Define la variable default_payment_cash_box_id con la caja predeterminada de pago esperada\").to.not.be.undefined;",
                  "    pm.expect(expectedDefaultPayment, \"Define la variable default_payment_cash_box_id con la caja predeterminada de pago esperada\").to.not.eql('');",
                  "});",
                  "pm.test(\"Variable default_receiving_cash_box_id configurada\", function () {",
                  "    pm.expect(expectedDefaultReceiving, \"Define la variable default_receiving_cash_box_id con la caja predeterminada de cobro esperada\").to.not.be.undefined;",
                  "    pm.expect(expectedDefaultReceiving, \"Define la variable default_receiving_cash_box_id con la caja predeterminada de cobro esperada\").to.not.eql('');",
                  "});",
                  "pm.test(\"Las cajas por defecto son correctas\", function () {",
                  "    pm.expect(configuration).to.have.property('default_payment_cash_box_id');",
                  "    pm.expect(configuration).to.have.property('default_receiving_cash_box_id');",
                  "    pm.expect(configuration.default_payment_cash_box_id, \"Caja de pago predeterminada incorrecta\").to.eql(parseInt(expectedDefaultPayment, 10));",
                  "    pm.expect(configuration.default_receiving_cash_box_id, \"Caja de cobro predeterminada incorrecta\").to.eql(parseInt(expectedDefaultReceiving, 10));",
                  "});"
                ]
              }
            }
          ]
        },
        {
          "name": "POST",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"role\": \"user\",\r\n  \"view_type\": \"dark\",\r\n  \"theme\": \"azul\",\r\n  \"font_size\": \"14px\"\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "https://sistema.depros.com.ar/user_configurations",
              "protocol": "https",
              "host": [
                "sistema",
                "depros",
                "com",
                "ar"
              ],
              "path": [
                "user_configurations"
              ]
            },
            "description": "**POST https://sistema.depros.com.ar/user_configurations**\n\nDescripción: Endpoint `POST` dentro de UserConfigurations.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "PUT",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"role\": \"admin\",\r\n  \"view_type\": \"light\",\r\n  \"theme\": \"red\",\r\n  \"font_size\": \"33px\"\r\n}\r\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "https://sistema.depros.com.ar/user_configurations",
              "protocol": "https",
              "host": [
                "sistema",
                "depros",
                "com",
                "ar"
              ],
              "path": [
                "user_configurations"
              ]
            },
            "description": "**PUT https://sistema.depros.com.ar/user_configurations**\n\nDescripción: Endpoint `PUT` dentro de UserConfigurations.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "DELETE",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "https://sistema.depros.com.ar/user_configurations/1",
              "protocol": "https",
              "host": [
                "sistema",
                "depros",
                "com",
                "ar"
              ],
              "path": [
                "user_configurations",
                "1"
              ]
            },
            "description": "**DELETE https://sistema.depros.com.ar/user_configurations/1**\n\nDescripción: Endpoint `DELETE` dentro de UserConfigurations.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        }
      ],
      "description": "Endpoints para gestionar UserConfigurations. Utiliza autenticación Bearer mediante la variable `{{auth_token}}`."
    },
    {
      "name": "Clients",
      "item": [
        {
          "name": "POST",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"company_id\": 42,\n  \"tariff_id\": null,\n  \"timestamp\": \"2024-05-01 12:00:00\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/clients",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "clients"
              ]
            },
            "description": "**POST {{base_url}}/clients**\n\nDescripción: Endpoint `POST` dentro de Clients.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`.\n\nEnvía `company_id`/`empresa_id` obligatorio. Obtén el identificador consultando `GET /companies` con tu token Bearer."
          },
          "response": []
        },
        {
          "name": "GET",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "https://sistema.depros.com.ar/clients",
              "protocol": "https",
              "host": [
                "sistema",
                "depros",
                "com",
                "ar"
              ],
              "path": [
                "clients"
              ],
              "query": [
                {
                  "key": "",
                  "value": "",
                  "disabled": true
                }
              ]
            },
            "description": "**GET https://sistema.depros.com.ar/clients**\n\nDescripción: Endpoint `GET` dentro de Clients.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`.\n\nA partir de la alineación con empresas, cada registro incluye el objeto `company` (datos genéricos) y `user_configuration`. Puedes filtrar enviando `?company_id=123` (o `empresa_id`)."
          },
          "response": []
        },
        {
          "name": "PUT",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"company_id\": 42,\n  \"tariff_id\": 3\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "https://sistema.depros.com.ar/clients/2",
              "protocol": "https",
              "host": [
                "sistema",
                "depros",
                "com",
                "ar"
              ],
              "path": [
                "clients",
                "2"
              ]
            },
            "description": "**PUT https://sistema.depros.com.ar/clients/2**\n\nDescripción: Endpoint `PUT` dentro de Clients.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`.\n\nEnvía `company_id`/`empresa_id` incluso cuando no cambie la empresa para mantener el historial sincronizado."
          },
          "response": []
        },
        {
          "name": "DELETE",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "https://sistema.depros.com.ar/clients/9",
              "protocol": "https",
              "host": [
                "sistema",
                "depros",
                "com",
                "ar"
              ],
              "path": [
                "clients",
                "9"
              ]
            },
            "description": "**DELETE https://sistema.depros.com.ar/clients/9**\n\nDescripción: Endpoint `DELETE` dentro de Clients.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Add Client",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"company_id\": 42,\n  \"tariff_id\": null,\n  \"timestamp\": \"2024-05-01 12:00:00\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/clients",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "clients"
              ]
            },
            "description": "**POST {{base_url}}/clients**\n\nDescripción: Endpoint `Add Client` dentro de Clients.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`.\n\nEnvía `company_id`/`empresa_id` obligatorio. Obtén el identificador consultando `GET /companies` con tu token Bearer."
          },
          "response": []
        },
        {
          "name": "Get Client By ID",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/clients/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "clients",
                "1"
              ]
            },
            "description": "**GET {{base_url}}/clients/1**\n\nDescripción: Endpoint `Get Client By ID` dentro de Clients.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`.\n\nLa respuesta incorpora `company` y `user_configuration`, evitando realizar múltiples llamadas auxiliares."
          },
          "response": []
        },
        {
          "name": "List Clients",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{base_url}}/clients",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "clients"
              ]
            },
            "description": "**GET {{base_url}}/clients**\n\nDescripción: Endpoint `List Clients` dentro de Clients.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`.\n\nA partir de la migración a empresas, las respuestas incluyen el campo `empresa_id` y los datos generales (`business_name`, `tax_id`, `email`) provienen de la tabla `empresas`.\n\nA partir de la alineación con empresas, cada registro incluye el objeto `company` (datos genéricos) y `user_configuration`. Puedes filtrar enviando `?company_id=123` (o `empresa_id`)."
          },
          "response": []
        },
        {
          "name": "Update Client",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"company_id\": 42,\n  \"tariff_id\": 3\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/clients/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "clients",
                "1"
              ]
            },
            "description": "**PUT {{base_url}}/clients/1**\n\nDescripción: Endpoint `Update Client` dentro de Clients.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`.\n\nEnvía `company_id`/`empresa_id` incluso cuando no cambie la empresa para mantener el historial sincronizado."
          },
          "response": []
        },
        {
          "name": "Delete Client",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/clients/123",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "clients",
                "123"
              ]
            },
            "description": "**DELETE {{base_url}}/clients/123**\n\nDescripción: Endpoint `Delete Client` dentro de Clients.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Get Client History",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/clients/123/history",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "clients",
                "123",
                "history"
              ]
            },
            "description": "**GET {{base_url}}/clients/123/history**\n\nDescripción: Endpoint `Get Client History` dentro de Clients.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`.\n\nLa respuesta incorpora `company` y `user_configuration`, evitando realizar múltiples llamadas auxiliares."
          },
          "response": []
        },
        {
          "name": "Sync Create Client",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Idempotency-Key",
                "value": "{{batch_id}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"batch_id\": \"{{batch_id}}\",\n  \"ops\": [\n    {\n      \"request_id\": \"create-1\",\n      \"entity\": \"clients\",\n      \"op\": \"create\",\n      \"local_id\": 1,\n      \"data\": {\n        \"business_name\": \"Example Co\",\n        \"tax_id\": \"20-12345678-9\",\n        \"email\": \"contact@example.com\"\n      }\n    }\n  ]\n}\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/sync/batch",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "sync",
                "batch"
              ]
            },
            "description": "**POST {{base_url}}/sync/batch**\n\nDescripción: Endpoint `Sync Create Client` dentro de Clients.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Sync Update Client",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Idempotency-Key",
                "value": "{{batch_id}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"batch_id\": \"{{batch_id}}\",\n  \"ops\": [\n    {\n      \"request_id\": \"update-1\",\n      \"entity\": \"clients\",\n      \"op\": \"update\",\n      \"remote_id\": {{remote_id}},\n      \"if_match_version\": {{version}},\n      \"data\": {\n        \"business_name\": \"Updated Company\",\n        \"tax_id\": \"20-12345678-9\",\n        \"email\": \"contact@example.com\"\n      }\n    }\n  ]\n}\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/sync/batch",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "sync",
                "batch"
              ]
            },
            "description": "**POST {{base_url}}/sync/batch**\n\nDescripción: Endpoint `Sync Update Client` dentro de Clients.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Sync Delete Client",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Idempotency-Key",
                "value": "{{batch_id}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"batch_id\": \"{{batch_id}}\",\n  \"ops\": [\n    {\n      \"request_id\": \"delete-1\",\n      \"entity\": \"clients\",\n      \"op\": \"delete\",\n      \"remote_id\": {{remote_id}}\n    }\n  ]\n}\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/sync/batch",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "sync",
                "batch"
              ]
            },
            "description": "**POST {{base_url}}/sync/batch**\n\nDescripción: Endpoint `Sync Delete Client` dentro de Clients.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Sync Pull Client Updates",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Idempotency-Key",
                "value": "{{batch_id}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"batch_id\": \"{{batch_id}}\",\n  \"since_history_id\": {{last_history_id}},\n  \"ops\": []\n}\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/sync/batch",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "sync",
                "batch"
              ]
            },
            "description": "**POST {{base_url}}/sync/batch**\n\nDescripción: Endpoint `Sync Pull Client Updates` dentro de Clients.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        }
      ],
      "description": "Endpoints para gestionar Clients. Utiliza autenticación Bearer mediante la variable `{{auth_token}}`."
    },
    {
      "name": "Folders",
      "item": [
        {
          "name": "Listar Folders (todos)",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/folders",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "folders"
              ],
              "query": [
                {
                  "key": "client_id",
                  "value": "{{client_id}}",
                  "description": "Opcional. Para listar folders de un cliente en particular, define esta variable.",
                  "disabled": true
                }
              ]
            },
            "description": "**GET {{base_url}}/folders**\n\nDescripción: Endpoint `Listar Folders (todos)` dentro de Folders.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Listar Folders (client_id)",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/folders?client_id=1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "folders"
              ],
              "query": [
                {
                  "key": "client_id",
                  "value": "{{client_id}}",
                  "description": "Opcional. Para listar folders de un cliente en particular, define esta variable.",
                  "disabled": true
                },
                {
                  "key": "client_id",
                  "value": "1"
                }
              ]
            },
            "description": "**GET {{base_url}}/folders?client_id=1**\n\nDescripción: Endpoint `Listar Folders (client_id)` dentro de Folders.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Listar Folders (parent_id)",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/folders?parent_id=19",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "folders"
              ],
              "query": [
                {
                  "key": "client_id",
                  "value": "{{client_id}}",
                  "description": "Opcional. Para listar folders de un cliente en particular, define esta variable.",
                  "disabled": true
                },
                {
                  "key": "parent_id",
                  "value": "19"
                }
              ]
            },
            "description": "**GET {{base_url}}/folders?parent_id=19**\n\nDescripción: Endpoint `Listar Folders (parent_id)` dentro de Folders.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Obtener Folder",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/folders/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "folders",
                "1"
              ]
            },
            "description": "**GET {{base_url}}/folders/1**\n\nDescripción: Endpoint `Obtener Folder` dentro de Folders.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Crear Folder",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"client_id\": 1,\n    \"name\": \"maquina no se\",\n    \"parent_id\": 1,\n    \"folder_image_file_id\": null\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/folders",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "folders"
              ]
            },
            "description": "**POST {{base_url}}/folders**\n\nDescripción: Endpoint `Crear Folder` dentro de Folders.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Actualizar Folder",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Nombre Actualizado del Folder\",\n    \"parent_id\": null,\n    \"folder_image_file_id\": null\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/folders/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "folders",
                "1"
              ]
            },
            "description": "**PUT {{base_url}}/folders/1**\n\nDescripción: Endpoint `Actualizar Folder` dentro de Folders.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Eliminar Folder",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/folders/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "folders",
                "1"
              ]
            },
            "description": "**DELETE {{base_url}}/folders/1**\n\nDescripción: Endpoint `Eliminar Folder` dentro de Folders.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Listar Historial de Folder",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/folders/1/history",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "folders",
                "1",
                "history"
              ]
            },
            "description": "**GET {{base_url}}/folders/1/history**\n\nDescripción: Endpoint `Listar Historial de Folder` dentro de Folders.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Listar Folders por Cliente",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/folders/client/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "folders",
                "client",
                "1"
              ]
            },
            "description": "**GET {{base_url}}/folders/client/1**\n\nDescripción: Endpoint `Listar Folders por Cliente` dentro de Folders.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        }
      ],
      "description": "Endpoints para gestionar Folders. Utiliza autenticación Bearer mediante la variable `{{auth_token}}`."
    },
    {
      "name": "Tariffs",
      "item": [
        {
          "name": "List Tariffs",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/tariffs",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "tariffs"
              ]
            },
            "description": "**GET {{baseUrl}}/tariffs**\n\nDescripción: Endpoint `List Tariffs` dentro de Tariffs.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Get Tariff",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/tariffs/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "tariffs",
                "1"
              ]
            },
            "description": "**GET {{baseUrl}}/tariffs/1**\n\nDescripción: Endpoint `Get Tariff` dentro de Tariffs.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Add Tariff",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Standard\",\n  \"amount\": 100,\n  \"timestamp\": 1700000000000\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/tariffs",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "tariffs"
              ]
            },
            "description": "**POST {{baseUrl}}/tariffs**\n\nDescripción: Endpoint `Add Tariff` dentro de Tariffs.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Update Tariff",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Standard\",\n  \"amount\": 120\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/tariffs/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "tariffs",
                "1"
              ]
            },
            "description": "**PUT {{baseUrl}}/tariffs/1**\n\nDescripción: Endpoint `Update Tariff` dentro de Tariffs.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Delete Tariff",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/tariffs/{{tariffId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "tariffs",
                "{{tariffId}}"
              ]
            },
            "description": "**DELETE {{baseUrl}}/tariffs/{{tariffId}}**\n\nDescripción: Endpoint `Delete Tariff` dentro de Tariffs.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Tariff History",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/tariffs/{{tariffId}}/history",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "tariffs",
                "{{tariffId}}",
                "history"
              ]
            },
            "description": "**GET {{baseUrl}}/tariffs/{{tariffId}}/history**\n\nDescripción: Endpoint `Tariff History` dentro de Tariffs.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        }
      ],
      "description": "Endpoints para gestionar Tariffs. Utiliza autenticación Bearer mediante la variable `{{auth_token}}`."
    },
    {
      "name": "Jobs",
      "item": [
        {
          "name": "List Jobs",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/jobs",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "jobs"
              ]
            },
            "description": "**GET {{baseUrl}}/jobs**\n\nDescripción: Endpoint `List Jobs` dentro de Jobs.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Get Job",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/jobs/{{jobId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "jobs",
                "{{jobId}}"
              ]
            },
            "description": "**GET {{baseUrl}}/jobs/{{jobId}}**\n\nDescripción: Endpoint `Get Job` dentro de Jobs.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Add Job",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"client_id\": 4,\n  \"description\": \"Example job\",\n  \"start_time\": \"09:00:00\",\n  \"end_time\": \"17:00:00\",\n  \"tariff_id\": 1,\n  \"manual_amount\": null,\n  \"status_id\": 3,\n  \"attached_files\": null,\n  \"folder_id\": null,\n  \"job_date\": \"2024-01-01\",\n  \"participants\":null\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/jobs",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "jobs"
              ]
            },
            "description": "**POST {{baseUrl}}/jobs**\n\nDescripción: Endpoint `Add Job` dentro de Jobs.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Update Job",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"client_id\": 1,\n  \"description\": \"Updated job\",\n  \"start_time\": \"09:30:00\",\n  \"end_time\": \"17:30:00\",\n  \"tariff_id\": null,\n  \"manual_amount\": null,\n  \"status_id\": 1,\n  \"attached_files\": null,\n  \"folder_id\": null,\n  \"job_date\": \"2023-02-01\",\n  \"participants\":null\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/jobs/{{jobId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "jobs",
                "{{jobId}}"
              ]
            },
            "description": "**PUT {{baseUrl}}/jobs/{{jobId}}**\n\nDescripción: Endpoint `Update Job` dentro de Jobs.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Delete Job",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/jobs/{{jobId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "jobs",
                "{{jobId}}"
              ]
            },
            "description": "**DELETE {{baseUrl}}/jobs/{{jobId}}**\n\nDescripción: Endpoint `Delete Job` dentro de Jobs.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Job History",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/jobs/{{jobId}}/history",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "jobs",
                "{{jobId}}",
                "history"
              ]
            },
            "description": "**GET {{baseUrl}}/jobs/{{jobId}}/history**\n\nDescripción: Endpoint `Job History` dentro de Jobs.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        }
      ],
      "description": "Endpoints para gestionar Jobs. Utiliza autenticación Bearer mediante la variable `{{auth_token}}`."
    },
    {
      "name": "Cash Boxes",
      "item": [
        {
          "name": "Listar Cash Boxes",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/cash_boxes",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "cash_boxes"
              ]
            },
            "description": "**GET {{base_url}}/cash_boxes**\n\nDescripción: Endpoint `Listar Cash Boxes` dentro de Cash Boxes.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Obtener Cash Box",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/cash_boxes/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "cash_boxes",
                "1"
              ]
            },
            "description": "**GET {{base_url}}/cash_boxes/1**\n\nDescripción: Endpoint `Obtener Cash Box` dentro de Cash Boxes.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Crear Cash Box",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Caja Principal\",\n    \"image_file_id\": null,\n    \"assigned_users\": [2, 3],\n    \"admin_permissions\": {\n      \"can_assign_users\": true,\n      \"can_manage_permissions\": true\n    }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/cash_boxes",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "cash_boxes"
              ]
            },
            "description": "**POST {{base_url}}/cash_boxes**\n\nDescripción: Endpoint `Crear Cash Box` dentro de Cash Boxes. Permite definir `assigned_users` y `admin_permissions` para documentar quién opera o administra la caja.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Actualizar Cash Box",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Caja Actualizada\",\n    \"image_file_id\": null,\n    \"assigned_users\": [5],\n    \"admin_permissions\": {\n      \"can_assign_users\": true,\n      \"can_manage_permissions\": false\n    }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/cash_boxes/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "cash_boxes",
                "1"
              ]
            },
            "description": "**PUT {{base_url}}/cash_boxes/1**\n\nDescripción: Endpoint `Actualizar Cash Box` dentro de Cash Boxes, incluyendo cambios en usuarios asignados o permisos administrativos.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Eliminar Cash Box",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/cash_boxes/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "cash_boxes",
                "1"
              ]
            },
            "description": "**DELETE {{base_url}}/cash_boxes/1**\n\nDescripción: Endpoint `Eliminar Cash Box` dentro de Cash Boxes.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Listar Historial de Cash Box",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/cash_boxes/1/history",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "cash_boxes",
                "1",
                "history"
              ]
            },
            "description": "**GET {{base_url}}/cash_boxes/1/history**\n\nDescripción: Endpoint `Listar Historial de Cash Box` dentro de Cash Boxes.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        }
      ],
      "description": "Endpoints para gestionar Cash Boxes. Utiliza autenticación Bearer mediante la variable `{{auth_token}}`."
    },
    {
      "name": "Categories",
      "item": [
        {
          "name": "List Categories",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/categories",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "categories"
              ]
            },
            "description": "**GET {{baseUrl}}/categories**\n\nDescripción: Endpoint `List Categories` dentro de Categories.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Get Category",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/categories/{{categoryId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "categories",
                "{{categoryId}}"
              ]
            },
            "description": "**GET {{baseUrl}}/categories/{{categoryId}}**\n\nDescripción: Endpoint `Get Category` dentro de Categories.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Add Category",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"New Category\",\n  \"type\": \"income\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/categories",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "categories"
              ]
            },
            "description": "**POST {{baseUrl}}/categories**\n\nDescripción: Endpoint `Add Category` dentro de Categories.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Update Category",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated Category\",\n  \"type\": \"income\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/categories/{{categoryId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "categories",
                "{{categoryId}}"
              ]
            },
            "description": "**PUT {{baseUrl}}/categories/{{categoryId}}**\n\nDescripción: Endpoint `Update Category` dentro de Categories.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Delete Category",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/categories/{{categoryId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "categories",
                "{{categoryId}}"
              ]
            },
            "description": "**DELETE {{baseUrl}}/categories/{{categoryId}}**\n\nDescripción: Endpoint `Delete Category` dentro de Categories.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Category History",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/categories/{{categoryId}}/history",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "categories",
                "{{categoryId}}",
                "history"
              ]
            },
            "description": "**GET {{baseUrl}}/categories/{{categoryId}}/history**\n\nDescripción: Endpoint `Category History` dentro de Categories.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        }
      ],
      "description": "Endpoints para gestionar Categories. Utiliza autenticación Bearer mediante la variable `{{auth_token}}`."
    },
    {
      "name": "Providers",
      "item": [
        {
          "name": "List Providers",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/providers",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "providers"
              ]
            },
            "description": "**GET {{baseUrl}}/providers**\n\nDescripción: Endpoint `List Providers` dentro de Providers.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`.\n\nLos resultados incluyen `empresa_id` y los datos generales del proveedor se resuelven a partir de `empresas`.\n\nLa respuesta incluye `company` y `user_configuration`. Acepta el filtro `?company_id=` para segmentar proveedores por empresa."
          },
          "response": []
        },
        {
          "name": "Get Provider",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/providers/{{providerId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "providers",
                "{{providerId}}"
              ]
            },
            "description": "**GET {{baseUrl}}/providers/{{providerId}}**\n\nDescripción: Endpoint `Get Provider` dentro de Providers.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`.\n\nDevuelve la ficha combinada (`company` + configuración del usuario)."
          },
          "response": []
        },
        {
          "name": "Add Provider",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"company_id\": 77,\n  \"timestamp\": \"2024-05-01 12:00:00\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/providers",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "providers"
              ]
            },
            "description": "**POST {{baseUrl}}/providers**\n\nDescripción: Endpoint `Add Provider` dentro de Providers.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`.\n\nEnvía `company_id` obligatorio (obtenido desde `/companies`)."
          },
          "response": []
        },
        {
          "name": "Update Provider",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"company_id\": 77\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/providers/{{providerId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "providers",
                "{{providerId}}"
              ]
            },
            "description": "**PUT {{baseUrl}}/providers/{{providerId}}**\n\nDescripción: Endpoint `Update Provider` dentro de Providers.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`.\n\nIncluye `company_id`/`empresa_id` en el cuerpo para validar que la empresa siga activa antes de actualizar."
          },
          "response": []
        },
        {
          "name": "Delete Provider",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/providers/{{providerId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "providers",
                "{{providerId}}"
              ]
            },
            "description": "**DELETE {{baseUrl}}/providers/{{providerId}}**\n\nDescripción: Endpoint `Delete Provider` dentro de Providers.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Provider History",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/providers/{{providerId}}/history",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "providers",
                "{{providerId}}",
                "history"
              ]
            },
            "description": "**GET {{baseUrl}}/providers/{{providerId}}/history**\n\nDescripción: Endpoint `Provider History` dentro de Providers.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`.\n\nDevuelve la ficha combinada (`company` + configuración del usuario)."
          },
          "response": []
        }
      ],
      "description": "Endpoints para gestionar Providers. Utiliza autenticación Bearer mediante la variable `{{auth_token}}`."
    },
    {
      "name": "ProductsServices",
      "item": [
        {
          "name": "Listar Products/Services",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/products_services",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "products_services"
              ]
            },
            "description": "**GET {{base_url}}/products_services**\n\nDescripción: Endpoint `Listar Products/Services` dentro de ProductsServices.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Obtener Product/Service",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/products_services/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "products_services",
                "1"
              ]
            },
            "description": "**GET {{base_url}}/products_services/1**\n\nDescripción: Endpoint `Obtener Product/Service` dentro de ProductsServices.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Crear Product/Service",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"description\": \"Producto de ejemplo\",\n    \"category\": \"Electrónica\",\n    \"price\": 199.99,\n    \"cost\": 150.00,\n    \"difficulty\": \"N/A\",\n    \"item_type\": \"product\",\n    \"product_image_file_id\": null,\n    \"stock\": 10\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/products_services",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "products_services"
              ]
            },
            "description": "**POST {{base_url}}/products_services**\n\nDescripción: Endpoint `Crear Product/Service` dentro de ProductsServices.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Actualizar Product/Service",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"description\": \"Producto actualizado\",\n    \"category\": \"Electrónica\",\n    \"price\": 189.99,\n    \"cost\": 145.00,\n    \"difficulty\": \"N/A\",\n    \"item_type\": \"product\",\n    \"product_image_file_id\": null,\n    \"stock\": 8\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/products_services/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "products_services",
                "1"
              ]
            },
            "description": "**PUT {{base_url}}/products_services/1**\n\nDescripción: Endpoint `Actualizar Product/Service` dentro de ProductsServices.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Eliminar Product/Service",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/products_services/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "products_services",
                "1"
              ]
            },
            "description": "**DELETE {{base_url}}/products_services/1**\n\nDescripción: Endpoint `Eliminar Product/Service` dentro de ProductsServices.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Listar Historial de Product/Service",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/products_services/1/history",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "products_services",
                "1",
                "history"
              ]
            },
            "description": "**GET {{base_url}}/products_services/1/history**\n\nDescripción: Endpoint `Listar Historial de Product/Service` dentro de ProductsServices.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        }
      ],
      "description": "Endpoints para gestionar ProductsServices. Utiliza autenticación Bearer mediante la variable `{{auth_token}}`."
    },
    {
      "name": "Appointments",
      "item": [
        {
          "name": "Listar Appointments",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/appointments",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "appointments"
              ]
            },
            "description": "**GET {{base_url}}/appointments**\n\nDescripción: Endpoint `Listar Appointments` dentro de Appointments.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Obtener Appointment",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/appointments/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "appointments",
                "1"
              ]
            },
            "description": "**GET {{base_url}}/appointments/1**\n\nDescripción: Endpoint `Obtener Appointment` dentro de Appointments.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Crear Appointment",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"client_id\": 123,\n    \"appointment_date\": \"2025-03-24\",\n    \"appointment_time\": \"15:30:00\",\n    \"location\": \"Oficina central\",\n    \"job_id\": null,\n    \"site_image_file_id\": null,\n    \"attached_files\": null\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/appointments",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "appointments"
              ]
            },
            "description": "**POST {{base_url}}/appointments**\n\nDescripción: Endpoint `Crear Appointment` dentro de Appointments.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Actualizar Appointment",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"client_id\": 123,\n    \"appointment_date\": \"2025-03-24\",\n    \"appointment_time\": \"16:00:00\",\n    \"location\": \"Sala de reuniones\",\n    \"job_id\": null,\n    \"site_image_file_id\": null,\n    \"attached_files\": null\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/appointments/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "appointments",
                "1"
              ]
            },
            "description": "**PUT {{base_url}}/appointments/1**\n\nDescripción: Endpoint `Actualizar Appointment` dentro de Appointments.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Eliminar Appointment",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/appointments/3",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "appointments",
                "3"
              ]
            },
            "description": "**DELETE {{base_url}}/appointments/3**\n\nDescripción: Endpoint `Eliminar Appointment` dentro de Appointments.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Listar Historial de Appointment",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/appointments/3/history",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "appointments",
                "3",
                "history"
              ]
            },
            "description": "**GET {{base_url}}/appointments/3/history**\n\nDescripción: Endpoint `Listar Historial de Appointment` dentro de Appointments.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        }
      ],
      "description": "Endpoints para gestionar Appointments. Utiliza autenticación Bearer mediante la variable `{{auth_token}}`."
    },
    {
      "name": "Accounting Closings",
      "item": [
        {
          "name": "Listar Accounting Closings",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/accounting_closings",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "accounting_closings"
              ]
            },
            "description": "**GET {{base_url}}/accounting_closings**\n\nDescripción: Endpoint `Listar Accounting Closings` dentro de Accounting Closings.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Obtener Accounting Closing",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/accounting_closings/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "accounting_closings",
                "1"
              ]
            },
            "description": "**GET {{base_url}}/accounting_closings/1**\n\nDescripción: Endpoint `Obtener Accounting Closing` dentro de Accounting Closings.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Crear Accounting Closing",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"cash_box_id\": 1,\n    \"closing_date\": \"2025-03-24 18:00:00\",\n    \"final_balance\": 1500.00,\n    \"total_income\": 3000.00,\n    \"total_expenses\": 1500.00,\n    \"comments\": \"Cierre contable del día\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/accounting_closings",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "accounting_closings"
              ]
            },
            "description": "**POST {{base_url}}/accounting_closings**\n\nDescripción: Endpoint `Crear Accounting Closing` dentro de Accounting Closings.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Actualizar Accounting Closing",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"cash_box_id\": 1,\n    \"closing_date\": \"2025-03-24 18:30:00\",\n    \"final_balance\": 1550.00,\n    \"total_income\": 3100.00,\n    \"total_expenses\": 1550.00,\n    \"comments\": \"Actualización del cierre\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/accounting_closings/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "accounting_closings",
                "1"
              ]
            },
            "description": "**PUT {{base_url}}/accounting_closings/1**\n\nDescripción: Endpoint `Actualizar Accounting Closing` dentro de Accounting Closings.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Eliminar Accounting Closing",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/accounting_closings/4",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "accounting_closings",
                "4"
              ]
            },
            "description": "**DELETE {{base_url}}/accounting_closings/4**\n\nDescripción: Endpoint `Eliminar Accounting Closing` dentro de Accounting Closings.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Listar Historial de Accounting Closing",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/accounting_closings/1/history",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "accounting_closings",
                "1",
                "history"
              ]
            },
            "description": "**GET {{base_url}}/accounting_closings/1/history**\n\nDescripción: Endpoint `Listar Historial de Accounting Closing` dentro de Accounting Closings.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        }
      ],
      "description": "Endpoints para gestionar Accounting Closings. Utiliza autenticación Bearer mediante la variable `{{auth_token}}`."
    },
    {
      "name": "Accounting Summary",
      "description": "Resumen consolidado de ingresos, egresos, cajas y balances por cliente/proveedor.",
      "item": [
        {
          "name": "Resumen contable por rango",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "type": "string",
                  "value": "{{auth_token}}"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "description": "**GET {{base_url}}/accounting/summary**\n\nDevuelve totales de ingresos, egresos, neto y desglose por caja, clientes y proveedores para un rango de fechas. Requiere el permiso `viewAccountingSummary` y el encabezado Authorization Bearer, excepto durante el login.",
            "url": {
              "raw": "{{base_url}}/accounting/summary?start_date=2024-01-01&end_date=2024-01-31&cash_box_id=1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "accounting",
                "summary"
              ],
              "query": [
                {
                  "key": "start_date",
                  "value": "2024-01-01"
                },
                {
                  "key": "end_date",
                  "value": "2024-01-31"
                },
                {
                  "key": "cash_box_id",
                  "value": "1",
                  "description": "Opcional: limitar a una caja"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Accounts & Ledger",
      "description": "Endpoints de cuentas, transferencias y asientos. Requieren token Bearer salvo login; el super usuario (ID=1) puede omitir filtros de compañía y estado activo. No se usan FOREIGN KEY y los montos deben ser positivos.",
      "item": [
        {
          "name": "List Accounts",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/accounts?company_id=10&page=1&per_page=20&active=1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "accounts"
              ],
              "query": [
                {
                  "key": "company_id",
                  "value": "10"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "per_page",
                  "value": "20"
                },
                {
                  "key": "active",
                  "value": "1"
                }
              ]
            },
            "description": "**GET {{baseUrl}}/accounts**\n\nLista cuentas activas por compañía con paginación segura. Requiere Authorization Bearer; el super usuario (ID=1) ignora validación de compañía y estado activo."
          },
          "response": [
            {
              "name": "Example",
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [],
              "cookie": [],
              "body": "{\n  \"data\": [\n    {\n      \"id\": 18,\n      \"company_id\": 10,\n      \"code\": \"CAJA-001\",\n      \"name\": \"Caja principal\",\n      \"active\": true,\n      \"current_balance\": 15400.0\n    },\n    {\n      \"id\": 19,\n      \"company_id\": 10,\n      \"code\": \"BANCO-USD\",\n      \"name\": \"Cuenta USD\",\n      \"active\": true,\n      \"current_balance\": 9800.5\n    }\n  ],\n  \"page\": 1,\n  \"per_page\": 20,\n  \"total\": 2\n}"
            }
          ]
        },
        {
          "name": "Create Account",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"company_id\": 10,\n  \"code\": \"CAJA-001\",\n  \"name\": \"Caja principal\",\n  \"active\": true\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/accounts",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "accounts"
              ]
            },
            "description": "**POST {{baseUrl}}/accounts**\n\nCrea una cuenta con código único por compañía. Requiere Authorization Bearer. Montos y validaciones de activos se controlan en servicio; sin FOREIGN KEY."
          },
          "response": [
            {
              "name": "Example",
              "status": "Created",
              "code": 201,
              "_postman_previewlanguage": "json",
              "header": [],
              "cookie": [],
              "body": "{\n  \"id\": 18,\n  \"company_id\": 10,\n  \"code\": \"CAJA-001\",\n  \"name\": \"Caja principal\",\n  \"active\": true\n}",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{auth_token}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"company_id\": 10,\n  \"code\": \"CAJA-001\",\n  \"name\": \"Caja principal\",\n  \"active\": true\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}/accounts",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "accounts"
                  ]
                }
              }
            }
          ]
        },
        {
          "name": "List Transfers",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/transfers?company_id=10&page=1&per_page=10&status=posted",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "transfers"
              ],
              "query": [
                {
                  "key": "company_id",
                  "value": "10"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "per_page",
                  "value": "10"
                },
                {
                  "key": "status",
                  "value": "posted"
                }
              ]
            },
            "description": "**GET {{baseUrl}}/transfers**\n\nLista transferencias con paginación segura. Requiere Authorization Bearer; montos siempre positivos y filtrados por compañía (excepto super usuario ID=1)."
          },
          "response": [
            {
              "name": "Example",
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [],
              "cookie": [],
              "body": "{\n  \"data\": [\n    {\n      \"id\": 33,\n      \"company_id\": 10,\n      \"from_account_id\": 18,\n      \"to_account_id\": 19,\n      \"amount\": 1200.0,\n      \"status\": \"posted\",\n      \"transfer_date\": \"2024-06-01\"\n    }\n  ],\n  \"page\": 1,\n  \"per_page\": 10,\n  \"total\": 1\n}"
            }
          ]
        },
        {
          "name": "Create Transfer",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"company_id\": 10,\n  \"from_account_id\": 18,\n  \"to_account_id\": 19,\n  \"amount\": 1200.0,\n  \"currency\": \"USD\",\n  \"reference\": \"Transferencia a cuenta USD\",\n  \"status\": \"posted\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/transfers",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "transfers"
              ]
            },
            "description": "**POST {{baseUrl}}/transfers**\n\nCrea una transferencia con monto positivo y estado `draft`/`posted`/`void`. Requiere Authorization Bearer. Registra enlaces lógicos sin FOREIGN KEY para los asientos generados."
          },
          "response": [
            {
              "name": "Example",
              "status": "Created",
              "code": 201,
              "_postman_previewlanguage": "json",
              "header": [],
              "cookie": [],
              "body": "{\n  \"id\": 33,\n  \"company_id\": 10,\n  \"status\": \"posted\",\n  \"origin_entry_ids\": [\n    210,\n    211\n  ]\n}",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{auth_token}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"company_id\": 10,\n  \"from_account_id\": 18,\n  \"to_account_id\": 19,\n  \"amount\": 1200.0,\n  \"currency\": \"USD\",\n  \"reference\": \"Transferencia a cuenta USD\",\n  \"status\": \"posted\"\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}/transfers",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "transfers"
                  ]
                }
              }
            }
          ]
        },
        {
          "name": "List Accounting Entries",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/accounting-entries?company_id=10&page=1&per_page=25&origin_type=transfer&origin_id=33",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "accounting-entries"
              ],
              "query": [
                {
                  "key": "company_id",
                  "value": "10"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "per_page",
                  "value": "25"
                },
                {
                  "key": "origin_type",
                  "value": "transfer"
                },
                {
                  "key": "origin_id",
                  "value": "33"
                }
              ]
            },
            "description": "**GET {{baseUrl}}/accounting-entries**\n\nLista asientos contables activos con paginación y filtro de origen lógico (`origin_type`/`origin_id`). Requiere Authorization Bearer; el super usuario (ID=1) ignora el filtro de compañía."
          },
          "response": [
            {
              "name": "Example",
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [],
              "cookie": [],
              "body": "{\n  \"data\": [\n    {\n      \"id\": 210,\n      \"company_id\": 10,\n      \"account_id\": 18,\n      \"entry_type\": \"credit\",\n      \"amount\": 1200.0,\n      \"origin_type\": \"transfer\",\n      \"origin_id\": 33,\n      \"description\": \"Salida de caja\",\n      \"entry_date\": \"2024-06-01\",\n      \"active\": true\n    },\n    {\n      \"id\": 211,\n      \"company_id\": 10,\n      \"account_id\": 19,\n      \"entry_type\": \"debit\",\n      \"amount\": 1200.0,\n      \"origin_type\": \"transfer\",\n      \"origin_id\": 33,\n      \"description\": \"Ingreso a cuenta USD\",\n      \"entry_date\": \"2024-06-01\",\n      \"active\": true\n    }\n  ],\n  \"page\": 1,\n  \"per_page\": 25,\n  \"total\": 2\n}"
            }
          ]
        },
        {
          "name": "Create Accounting Entry",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"company_id\": 10,\n  \"account_id\": 18,\n  \"entry_type\": \"debit\",\n  \"amount\": 500.0,\n  \"origin_type\": \"manual-adjustment\",\n  \"origin_id\": null,\n  \"description\": \"Ajuste de reapertura\",\n  \"entry_date\": \"2024-06-05\",\n  \"active\": true\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/accounting-entries",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "accounting-entries"
              ]
            },
            "description": "**POST {{baseUrl}}/accounting-entries**\n\nCrea un asiento con monto positivo y referencia opcional (`origin_type`/`origin_id`) sin FOREIGN KEY. Requiere Authorization Bearer; el super usuario (ID=1) puede omitir `company_id` si necesita abarcar todo."
          },
          "response": [
            {
              "name": "Example",
              "status": "Created",
              "code": 201,
              "_postman_previewlanguage": "json",
              "header": [],
              "cookie": [],
              "body": "{\n  \"id\": 250,\n  \"company_id\": 10,\n  \"account_id\": 18,\n  \"entry_type\": \"debit\",\n  \"amount\": 500.0,\n  \"origin_type\": \"manual-adjustment\",\n  \"origin_id\": null,\n  \"description\": \"Ajuste de reapertura\",\n  \"entry_date\": \"2024-06-05\",\n  \"active\": true\n}",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{auth_token}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"company_id\": 10,\n  \"account_id\": 18,\n  \"entry_type\": \"debit\",\n  \"amount\": 500.0,\n  \"origin_type\": \"manual-adjustment\",\n  \"origin_id\": null,\n  \"description\": \"Ajuste de reapertura\",\n  \"entry_date\": \"2024-06-05\",\n  \"active\": true\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}/accounting-entries",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "accounting-entries"
                  ]
                }
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Permisos",
      "item": [
        {
          "name": "POST: Add_Permissions",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"user_id\": 2,\n    \"sector\": \"updateFolder\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/permissions",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "permissions"
              ]
            },
            "description": "**POST {{base_url}}/permissions**\n\nDescripción: Endpoint `POST: Add_Permissions` dentro de Permisos.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "GET: List_Permissions_User",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "https://sistema.depros.com.ar/permissions/user/2",
              "protocol": "https",
              "host": [
                "sistema",
                "depros",
                "com",
                "ar"
              ],
              "path": [
                "permissions",
                "user",
                "2"
              ]
            },
            "description": "**GET https://sistema.depros.com.ar/permissions/user/2**\n\nDescripción: Endpoint `GET: List_Permissions_User` dentro de Permisos.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "GET: List_Permissionn GLOBAL",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "https://sistema.depros.com.ar/permissions/global",
              "protocol": "https",
              "host": [
                "sistema",
                "depros",
                "com",
                "ar"
              ],
              "path": [
                "permissions",
                "global"
              ]
            },
            "description": "**GET https://sistema.depros.com.ar/permissions/global**\n\nDescripción: Endpoint `GET: List_Permissionn GLOBAL` dentro de Permisos.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "DELETE: Delete_Permissions",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "https://sistema.depros.com.ar/permissions/3",
              "protocol": "https",
              "host": [
                "sistema",
                "depros",
                "com",
                "ar"
              ],
              "path": [
                "permissions",
                "3"
              ]
            },
            "description": "**DELETE https://sistema.depros.com.ar/permissions/3**\n\nDescripción: Endpoint `DELETE: Delete_Permissions` dentro de Permisos.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        }
      ],
      "description": "Endpoints para gestionar Permisos. Utiliza autenticación Bearer mediante la variable `{{auth_token}}`."
    },
    {
      "name": "Payments",
      "item": [
        {
          "name": "List Payments",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/payments",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "payments"
              ]
            },
            "description": "**GET {{baseUrl}}/payments**\n\nDescripción: Endpoint `List Payments` dentro de Payments.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": [
            {
              "name": "Example",
              "originalRequest": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{token}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/payments",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "payments"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "Text",
              "header": [],
              "cookie": [],
              "body": "{\n  \"payments\": [\n    {\n      \"id\": 1,\n      \"description\": \"Office supplies\",\n      \"total\": 100\n    }\n  ]\n}"
            }
          ]
        },
        {
          "name": "Get Payment",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/payments/{{paymentId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "payments",
                "{{paymentId}}"
              ]
            },
            "description": "**GET {{baseUrl}}/payments/{{paymentId}}**\n\nDescripción: Endpoint `Get Payment` dentro de Payments.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": [
            {
              "name": "Example",
              "originalRequest": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{token}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/payments/{{paymentId}}",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "payments",
                    "{{paymentId}}"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "Text",
              "header": [],
              "cookie": [],
              "body": "{\n  \"payment\": {\n    \"id\": 1,\n    \"description\": \"Office supplies\",\n    \"category_id\": 1,\n    \"price\": 100,\n    \"charge_client\": false\n  }\n}"
            }
          ]
        },
        {
          "name": "Add Payment",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"paid_with_account\": 1,\n  \"creditor_type\": \"other\",\n  \"description\": \"Office supplies\",\n  \"category_id\": 2,\n  \"price\": 100,\n  \"charge_client\": false\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/payments",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "payments"
              ]
            },
            "description": "**POST {{baseUrl}}/payments**\n\nDescripción: Endpoint `Add Payment` dentro de Payments.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": [
            {
              "name": "Example",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{token}}"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"paid_with_account\": 1,\n  \"creditor_type\": \"other\",\n  \"description\": \"Office supplies\",\n  \"category_id\": 1,\n  \"price\": 100,\n  \"charge_client\": false\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/payments",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "payments"
                  ]
                }
              },
              "status": "Created",
              "code": 201,
              "_postman_previewlanguage": "Text",
              "header": [],
              "cookie": [],
              "body": "{\n  \"message\": \"Payment created successfully\",\n  \"payment_id\": 10\n}"
            }
          ]
        },
        {
          "name": "Update Payment",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"paid_with_account\": 1,\n  \"creditor_type\": \"other\",\n  \"description\": \"Office supplies updated\",\n  \"category_id\": 1,\n  \"price\": 150,\n  \"charge_client\": false\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/payments/{{paymentId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "payments",
                "{{paymentId}}"
              ]
            },
            "description": "**PUT {{baseUrl}}/payments/{{paymentId}}**\n\nDescripción: Endpoint `Update Payment` dentro de Payments.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": [
            {
              "name": "Example",
              "originalRequest": {
                "method": "PUT",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{token}}"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"paid_with_account\": 1,\n  \"creditor_type\": \"other\",\n  \"description\": \"Office supplies updated\",\n  \"category_id\": 1,\n  \"price\": 150,\n  \"charge_client\": false\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/payments/{{paymentId}}",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "payments",
                    "{{paymentId}}"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "Text",
              "header": [],
              "cookie": [],
              "body": "{\n  \"message\": \"Payment updated successfully\"\n}"
            }
          ]
        },
        {
          "name": "Delete Payment",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/payments/{{paymentId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "payments",
                "{{paymentId}}"
              ]
            },
            "description": "**DELETE {{baseUrl}}/payments/{{paymentId}}**\n\nDescripción: Endpoint `Delete Payment` dentro de Payments.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": [
            {
              "name": "Example",
              "originalRequest": {
                "method": "DELETE",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{token}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/payments/{{paymentId}}",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "payments",
                    "{{paymentId}}"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "Text",
              "header": [],
              "cookie": [],
              "body": "{\n  \"message\": \"Payment deleted successfully\"\n}"
            }
          ]
        },
        {
          "name": "Payment History",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/payments/{{paymentId}}/history",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "payments",
                "{{paymentId}}",
                "history"
              ]
            },
            "description": "**GET {{baseUrl}}/payments/{{paymentId}}/history**\n\nDescripción: Endpoint `Payment History` dentro de Payments.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": [
            {
              "name": "Example",
              "originalRequest": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{token}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/payments/{{paymentId}}/history",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "payments",
                    "{{paymentId}}",
                    "history"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "Text",
              "header": [],
              "cookie": [],
              "body": "{\n  \"history\": [\n    {\n      \"action\": \"CREATION\",\n      \"changed_by\": 1,\n      \"date\": \"2024-01-15 10:00:00\"\n    }\n  ]\n}"
            }
          ]
        },
        {
          "name": "Generate Payment Report",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "type": "string",
                  "value": "{{token}}"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"start_date\": \"2024-01-01\",\n  \"end_date\": \"2024-01-31\"\n}\n",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/payments/report/pdf",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "payments",
                "report",
                "pdf"
              ]
            },
            "description": "**POST {{baseUrl}}/payments/report/pdf**\\n\\nGenera un PDF con los comprobantes reales (`is_invoice: true`) adjuntados a pagos dentro del rango indicado. El reporte permanece en una sola secuencia sin cortes de página dentro de cada pago y optimiza el tamaño de las imágenes.\\n\\n> Comentario: Requiere permiso `generatePaymentReport` y cabecera Authorization con token Bearer."
          },
          "response": []
        }
      ],
      "description": "Endpoints para gestionar Payments. Utiliza autenticación Bearer mediante la variable `{{auth_token}}`."
    },
    {
      "name": "Receipts",
      "item": [
        {
          "name": "List Receipts",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/receipts",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "receipts"
              ]
            },
            "description": "**GET {{baseUrl}}/receipts**\n\nDescripción: Endpoint `List Receipts` dentro de Receipts.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": [
            {
              "name": "Example",
              "originalRequest": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{token}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/receipts",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "receipts"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "Text",
              "header": [],
              "cookie": [],
              "body": "{\n  \"receipts\": [\n    {\n      \"id\": 1,\n      \"description\": \"Website sale\",\n      \"total\": 200\n    }\n  ]\n}"
            }
          ]
        },
        {
          "name": "Get Receipt",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/receipts/{{receiptId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "receipts",
                "{{receiptId}}"
              ]
            },
            "description": "**GET {{baseUrl}}/receipts/{{receiptId}}**\n\nDescripción: Endpoint `Get Receipt` dentro de Receipts.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": [
            {
              "name": "Example",
              "originalRequest": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{token}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/receipts/{{receiptId}}",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "receipts",
                    "{{receiptId}}"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "Text",
              "header": [],
              "cookie": [],
              "body": "{\n  \"receipt\": {\n    \"id\": 1,\n    \"description\": \"Website sale\",\n    \"items\": [\n      {\n        \"category_id\": 2,\n        \"price\": 200,\n        \"pay_provider\": false\n      }\n    ]\n  }\n}"
            }
          ]
        },
        {
          "name": "Add Receipt",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"paid_in_account\": 1,\n  \"payer_type\": \"client\",\n  \"payer_client_id\": 1,\n  \"description\": \"Website sale\",\n  \"category_id\": 2,\n  \"price\": 200,\n  \"pay_provider\": false\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/receipts",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "receipts"
              ]
            },
            "description": "**POST {{baseUrl}}/receipts**\n\nDescripción: Endpoint `Add Receipt` dentro de Receipts.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": [
            {
              "name": "Example",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{token}}"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"paid_in_account\": 1,\n  \"payer_type\": \"client\",\n  \"payer_client_id\": 1,\n  \"description\": \"Website sale\",\n  \"category_id\": 2,\n  \"price\": 200,\n  \"pay_provider\": false\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/receipts",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "receipts"
                  ]
                }
              },
              "status": "Created",
              "code": 201,
              "_postman_previewlanguage": "Text",
              "header": [],
              "cookie": [],
              "body": "{\n  \"message\": \"Receipt created successfully\",\n  \"receipt_id\": 10\n}"
            }
          ]
        },
        {
          "name": "Update Receipt",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"paid_in_account\": 1,\n  \"payer_type\": \"client\",\n  \"payer_client_id\": 1,\n  \"description\": \"Website sale updated\",\n  \"category_id\": 2,\n  \"price\": 250,\n  \"pay_provider\": false\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/receipts/{{receiptId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "receipts",
                "{{receiptId}}"
              ]
            },
            "description": "**PUT {{baseUrl}}/receipts/{{receiptId}}**\n\nDescripción: Endpoint `Update Receipt` dentro de Receipts.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": [
            {
              "name": "Example",
              "originalRequest": {
                "method": "PUT",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{token}}"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"paid_in_account\": 1,\n  \"payer_type\": \"client\",\n  \"payer_client_id\": 1,\n  \"description\": \"Website sale updated\",\n  \"category_id\": 2,\n  \"price\": 250,\n  \"pay_provider\": false\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/receipts/{{receiptId}}",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "receipts",
                    "{{receiptId}}"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "Text",
              "header": [],
              "cookie": [],
              "body": "{\n  \"message\": \"Receipt updated successfully\"\n}"
            }
          ]
        },
        {
          "name": "Delete Receipt",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/receipts/{{receiptId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "receipts",
                "{{receiptId}}"
              ]
            },
            "description": "**DELETE {{baseUrl}}/receipts/{{receiptId}}**\n\nDescripción: Endpoint `Delete Receipt` dentro de Receipts.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": [
            {
              "name": "Example",
              "originalRequest": {
                "method": "DELETE",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{token}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/receipts/{{receiptId}}",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "receipts",
                    "{{receiptId}}"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "Text",
              "header": [],
              "cookie": [],
              "body": "{\n  \"message\": \"Receipt deleted successfully\"\n}"
            }
          ]
        },
        {
          "name": "Receipt History",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/receipts/{{receiptId}}/history",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "receipts",
                "{{receiptId}}",
                "history"
              ]
            },
            "description": "**GET {{baseUrl}}/receipts/{{receiptId}}/history**\n\nDescripción: Endpoint `Receipt History` dentro de Receipts.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": [
            {
              "name": "Example",
              "originalRequest": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{token}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/receipts/{{receiptId}}/history",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "receipts",
                    "{{receiptId}}",
                    "history"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "Text",
              "header": [],
              "cookie": [],
              "body": "{\n  \"history\": [\n    {\n      \"action\": \"CREATION\",\n      \"changed_by\": 1,\n      \"date\": \"2024-01-15 10:00:00\"\n    }\n  ]\n}"
            }
          ]
        },
        {
          "name": "List Receipt Invoices",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/receipts/{{receiptId}}/invoices",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "receipts",
                "{{receiptId}}",
                "invoices"
              ]
            },
            "description": "**GET {{baseUrl}}/receipts/{{receiptId}}/invoices**\n\nDescripción: Lista las facturas asociadas al recibo indicado.\n\n> Comentario: Requiere encabezado Authorization con `Bearer {{auth_token}}`."
          },
          "response": []
        }
      ],
      "description": "Endpoints para gestionar Receipts. Utiliza autenticación Bearer mediante la variable `{{auth_token}}`."
    },
    {
      "name": "Statuses",
      "item": [
        {
          "name": "List Statuses",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/statuses",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "statuses"
              ]
            },
            "description": "**GET {{base_url}}/statuses**\n\nDescripción: Endpoint `List Statuses` dentro de Statuses.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Get Status by ID",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/statuses/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "statuses",
                "1"
              ]
            },
            "description": "**GET {{base_url}}/statuses/1**\n\nDescripción: Endpoint `Get Status by ID` dentro de Statuses.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Add Status",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"label\": \"Nuevo Estado\",\n    \"value\": \"Nuevo Estado\",\n    \"background_color\": \"#FFFFFF\",\n    \"order_index\": 8\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/statuses",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "statuses"
              ]
            },
            "description": "**POST {{base_url}}/statuses**\n\nDescripción: Endpoint `Add Status` dentro de Statuses.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Update Status",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"label\": \"Estado Actualizado\",\n    \"value\": \"Estado Actualizado\",\n    \"background_color\": \"#000000\",\n    \"order_index\": 8\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/statuses/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "statuses",
                "1"
              ]
            },
            "description": "**PUT {{base_url}}/statuses/1**\n\nDescripción: Endpoint `Update Status` dentro de Statuses.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Delete Status",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/statuses/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "statuses",
                "1"
              ]
            },
            "description": "**DELETE {{base_url}}/statuses/1**\n\nDescripción: Endpoint `Delete Status` dentro de Statuses.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        },
        {
          "name": "Reorder Statuses",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"ordered_ids\": [3,1,2,4,5,6,7,8]\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/statuses/reorder",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "statuses",
                "reorder"
              ]
            },
            "description": "**PUT {{base_url}}/statuses/reorder**\n\nDescripción: Endpoint `Reorder Statuses` dentro de Statuses.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": []
        }
      ],
      "description": "Endpoints para gestionar Statuses. Utiliza autenticación Bearer mediante la variable `{{auth_token}}`."
    },
    {
      "name": "Comments",
      "item": [
        {
          "name": "List Comments",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/comments",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "comments"
              ]
            },
            "description": "**GET {{base_url}}/comments**\n\nDescripción: Endpoint `List Comments` dentro de Comments.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`. Puedes aplicar filtros opcionales mediante los query params `user_id` y `search`. Incluye el campo `seen_at` (\"Seen at\") para identificar cuándo cada comentario fue revisado; los comentarios nuevos lo mantienen en `null`."
          },
          "response": []
        },
        {
          "name": "Get Comment by ID",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/comments/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "comments",
                "1"
              ]
            },
            "description": "**GET {{base_url}}/comments/1**\n\nDescripción: Endpoint `Get Comment by ID` dentro de Comments.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`. Devuelve el campo `seen_at` (\"Seen at\") que indica cuándo se revisó el comentario o `null` si aún está pendiente."
          },
          "response": []
        },
        {
          "name": "Add Comment",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"title\": \"Seguimiento inicial\",\n    \"comment\": \"El paciente responde bien al tratamiento.\",\n    \"files_id\": [1, 2],\n    \"timestamp\": \"2025-04-01 10:30:00\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/comments",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "comments"
              ]
            },
            "description": "**POST {{base_url}}/comments**\n\nDescripción: Endpoint `Add Comment` dentro de Comments.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`. Los comentarios recién creados establecen `seen_at` en `null` hasta que se marquen como revisados."
          },
          "response": []
        },
        {
          "name": "Mark Comment as Seen",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"seen\": true,\n    \"seen_at\": \"2025-04-01 11:00:00\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/comments/1/seen",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "comments",
                "1",
                "seen"
              ]
            },
            "description": "**PATCH {{base_url}}/comments/1/seen**\n\nDescripción: Endpoint `Mark Comment as Seen` dentro de Comments.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`. Envía `seen` en `false` para restablecer el estado a pendiente o proporciona un `seen_at` específico para registrar la fecha y hora de revisión."
          },
          "response": []
        }
      ],
      "description": "Endpoints para gestionar comentarios de usuarios. Utiliza autenticación Bearer mediante la variable `{{auth_token}}`. Los comentarios incorporan el campo `seen_at` (\"Seen at\") para registrar cuándo fueron revisados y ofrecen un endpoint dedicado para actualizar dicho estado."
    },
    {
      "name": "Reports",
      "description": "Controladores y rutas para la tabla reports sin claves foráneas.",
      "item": [
        {
          "name": "List Reports",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/reports",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "reports"
              ]
            },
            "description": "**GET {{base_url}}/reports**\n\nDescripción: Lista reportes guardados en la tabla de metadatos.\n\n> Comentario: Usa filtros opcionales `report_type`, `status`, `file_id` y `search`. Requiere header Authorization con `Bearer {{auth_token}}`. Los estados válidos son `draft`, `generated` y `archived`."
          },
          "response": []
        },
        {
          "name": "Get Report",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/reports/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "reports",
                "1"
              ]
            },
            "description": "**GET {{base_url}}/reports/{id}**\n\nDescripción: Recupera un reporte por su identificador.\n\n> Comentario: Devuelve los metadatos, incluyendo `metadata` como JSON cuando corresponde."
          },
          "response": []
        },
        {
          "name": "List Report History",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/reports/1/history",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "reports",
                "1",
                "history"
              ]
            },
            "description": "**GET {{base_url}}/reports/{id}/history**\\n\\nDescripción: Obtiene el historial de cambios del reporte indicado.\\n\\n> Comentario: Devuelve la secuencia de operaciones (`CREATION`, `UPDATE`, `DELETION`) con los metadatos almacenados. Requiere cabecera Authorization con token Bearer."
          },
          "response": []
        },
        {
          "name": "Create Report",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/reports",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "reports"
              ]
            },
            "description": "**POST {{base_url}}/reports**\n\nDescripción: Crea un nuevo registro de reporte enlazado a un archivo.\n\n> Comentario: Enviar `file_id`, `title` y `report_type` como obligatorios. Opcionales: `description`, `status` (`draft`, `generated`, `archived`) y `metadata` en formato JSON.",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"file_id\": 15,\n    \"title\": \"Reporte de finanzas Q2\",\n    \"report_type\": \"finanzas\",\n    \"description\": \"Resumen de ingresos y egresos\",\n    \"status\": \"generated\",\n    \"metadata\": {\"period\": \"2025-Q2\", \"currency\": \"USD\"}\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Update Report",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/reports/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "reports",
                "1"
              ]
            },
            "description": "**PUT {{base_url}}/reports/{id}**\n\nDescripción: Actualiza campos del reporte indicado.\n\n> Comentario: Solo se modifican los campos enviados. El `metadata` debe ser JSON válido.",
            "body": {
              "mode": "raw",
              "raw": "{\n    \"title\": \"Reporte de finanzas Q2 (actualizado)\",\n    \"status\": \"archived\",\n    \"metadata\": {\"period\": \"2025-Q2\", \"notes\": \"Revisado\"}\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Delete Report",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/reports/1",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "reports",
                "1"
              ]
            },
            "description": "**DELETE {{base_url}}/reports/{id}**\n\nDescripción: Elimina un reporte por su ID únicamente de la tabla de metadatos.\n\n> Comentario: El archivo asociado no se elimina ni de disco ni de la tabla `files`; se conserva el historial en `reports_history`."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Notifications",
      "item": [
        {
          "name": "Send Test Notification (Superuser Only)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Notificación de prueba\",\n  \"body\": \"Mensaje visible solo para QA\",\n  \"type\": \"manual\",\n  \"severity\": \"info\",\n  \"user_ids\": [\n    2,\n    3\n  ],\n  \"company_id\": 1,\n  \"source_table\": \"invoices\",\n  \"source_id\": 99,\n  \"source_history_id\": 101,\n  \"payload\": {\n    \"cta\": \"/invoices/99\",\n    \"notes\": \"solo superusuario\"\n  }\n}"
            },
            "url": {
              "raw": "{{base_url}}/notifications/send",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "notifications",
                "send"
              ]
            },
            "description": "**POST {{base_url}}/notifications/send**\n\nCrea una notificación manual solo cuando el bearer token pertenece al superusuario (id=1). Requiere enviar al menos un `user_id` o `user_ids` y devuelve los ids que fueron aceptados o descartados."
          },
          "response": [
            {
              "name": "201 Created - enviada",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{auth_token}}",
                      "type": "string"
                    }
                  ]
                },
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"title\": \"Notificación de prueba\",\n  \"body\": \"Mensaje visible solo para QA\",\n  \"type\": \"manual\",\n  \"severity\": \"info\",\n  \"user_ids\": [\n    2,\n    3\n  ],\n  \"company_id\": 1,\n  \"source_table\": \"invoices\",\n  \"source_id\": 99,\n  \"source_history_id\": 101,\n  \"payload\": {\n    \"cta\": \"/invoices/99\",\n    \"notes\": \"solo superusuario\"\n  }\n}"
                },
                "url": {
                  "raw": "{{base_url}}/notifications/send",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "notifications",
                    "send"
                  ]
                },
                "description": "**POST {{base_url}}/notifications/send**\n\nCrea una notificación manual solo cuando el bearer token pertenece al superusuario (id=1). Requiere enviar al menos un `user_id` o `user_ids` y devuelve los ids que fueron aceptados o descartados."
              },
              "status": "Created",
              "code": 201,
              "_postman_previewlanguage": "json",
              "header": [],
              "cookie": [],
              "body": "{\n  \"message\": \"Notificación de prueba enviada\",\n  \"notification_id\": 445,\n  \"recipients\": {\n    \"sent_to\": [\n      2,\n      3\n    ],\n    \"invalid_user_ids\": [\n      99\n    ]\n  }\n}"
            },
            {
              "name": "400 Bad Request - sin usuarios válidos",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{auth_token}}",
                      "type": "string"
                    }
                  ]
                },
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"title\": \"Notificación de prueba\",\n  \"body\": \"Mensaje visible solo para QA\",\n  \"type\": \"manual\",\n  \"severity\": \"info\",\n  \"user_ids\": [\n    2,\n    3\n  ],\n  \"company_id\": 1,\n  \"source_table\": \"invoices\",\n  \"source_id\": 99,\n  \"source_history_id\": 101,\n  \"payload\": {\n    \"cta\": \"/invoices/99\",\n    \"notes\": \"solo superusuario\"\n  }\n}"
                },
                "url": {
                  "raw": "{{base_url}}/notifications/send",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "notifications",
                    "send"
                  ]
                },
                "description": "**POST {{base_url}}/notifications/send**\n\nCrea una notificación manual solo cuando el bearer token pertenece al superusuario (id=1). Requiere enviar al menos un `user_id` o `user_ids` y devuelve los ids que fueron aceptados o descartados."
              },
              "status": "Bad Request",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [],
              "cookie": [],
              "body": "{\n  \"error\": \"Ninguno de los usuarios indicados existe en el sistema\",\n  \"invalid_user_ids\": [\n    99\n  ]\n}"
            },
            {
              "name": "403 Forbidden - solo superusuario",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{auth_token}}",
                      "type": "string"
                    }
                  ]
                },
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"title\": \"Notificación de prueba\",\n  \"body\": \"Mensaje visible solo para QA\",\n  \"type\": \"manual\",\n  \"severity\": \"info\",\n  \"user_ids\": [\n    2,\n    3\n  ],\n  \"company_id\": 1,\n  \"source_table\": \"invoices\",\n  \"source_id\": 99,\n  \"source_history_id\": 101,\n  \"payload\": {\n    \"cta\": \"/invoices/99\",\n    \"notes\": \"solo superusuario\"\n  }\n}"
                },
                "url": {
                  "raw": "{{base_url}}/notifications/send",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "notifications",
                    "send"
                  ]
                },
                "description": "**POST {{base_url}}/notifications/send**\n\nCrea una notificación manual solo cuando el bearer token pertenece al superusuario (id=1). Requiere enviar al menos un `user_id` o `user_ids` y devuelve los ids que fueron aceptados o descartados."
              },
              "status": "Forbidden",
              "code": 403,
              "_postman_previewlanguage": "json",
              "header": [],
              "cookie": [],
              "body": "{\n  \"error\": \"Solo el superusuario puede enviar notificaciones de prueba\",\n  \"code\": \"FORBIDDEN\"\n}"
            }
          ]
        },
        {
          "name": "List Notifications",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "type": "string",
                  "value": "{{auth_token}}"
                }
              ]
            },
            "description": "**GET {{base_url}}/notifications**\n\nRecupera las notificaciones del usuario autenticado. Usa `status` (unread|read|all)\ny filtros opcionales como `company_id`, `limit` y `since` (YYYY-MM-DD HH:MM:SS).",
            "header": [],
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/notifications",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "notifications"
              ]
            }
          },
          "response": [
            {
              "name": "200 OK - listado",
              "originalRequest": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "type": "string",
                      "value": "{{auth_token}}"
                    }
                  ]
                },
                "description": "**GET {{base_url}}/notifications**\n\nRecupera las notificaciones del usuario autenticado. Usa `status` (unread|read|all)\ny filtros opcionales como `company_id`, `limit` y `since` (YYYY-MM-DD HH:MM:SS).",
                "header": [],
                "method": "GET",
                "url": {
                  "raw": "{{base_url}}/notifications",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "notifications"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [],
              "cookie": [],
              "body": "{\n  \"notifications\": [\n    {\n      \"id\": 32,\n      \"company_id\": 7,\n      \"type\": \"manual\",\n      \"title\": \"Recordatorio de pago\",\n      \"body\": \"Factura 120 vence mañana\",\n      \"source\": {\n        \"table\": \"invoices\",\n        \"id\": 120,\n        \"history_id\": 980\n      },\n      \"payload\": {\n        \"cta\": \"/invoices/120\"\n      },\n      \"severity\": \"info\",\n      \"created_by_user_id\": 1,\n      \"timestamps\": {\n        \"created_at\": \"2024-12-17 09:45:00\",\n        \"scheduled_at\": null,\n        \"sent_at\": null,\n        \"expires_at\": null\n      },\n      \"state\": {\n        \"is_read\": false,\n        \"read_at\": null,\n        \"is_hidden\": false,\n        \"hidden_at\": null\n      }\n    }\n  ]\n}"
            },
            {
              "name": "400 Bad Request - since inválido",
              "originalRequest": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "type": "string",
                      "value": "{{auth_token}}"
                    }
                  ]
                },
                "description": "**GET {{base_url}}/notifications**\n\nRecupera las notificaciones del usuario autenticado. Usa `status` (unread|read|all)\ny filtros opcionales como `company_id`, `limit` y `since` (YYYY-MM-DD HH:MM:SS).",
                "header": [],
                "method": "GET",
                "url": {
                  "raw": "{{base_url}}/notifications",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "notifications"
                  ]
                }
              },
              "status": "Bad Request",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [],
              "cookie": [],
              "body": "{\n  \"error\": \"Invalid datetime format for since\"\n}"
            }
          ]
        },
        {
          "name": "List Read Notifications",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "type": "string",
                  "value": "{{auth_token}}"
                }
              ]
            },
            "description": "**GET {{base_url}}/notifications/read**\n\nDevuelve solo las notificaciones ya leídas del usuario autenticado. Permite filtrar con `company_id`, `limit` y `since` (YYYY-MM-DD HH:MM:SS).",
            "header": [],
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/notifications/read",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "notifications",
                "read"
              ]
            }
          },
          "response": [
            {
              "name": "200 OK - solo leídas",
              "originalRequest": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "type": "string",
                      "value": "{{auth_token}}"
                    }
                  ]
                },
                "description": "**GET {{base_url}}/notifications/read**\n\nDevuelve solo las notificaciones ya leídas del usuario autenticado. Permite filtrar con `company_id`, `limit` y `since` (YYYY-MM-DD HH:MM:SS).",
                "header": [],
                "method": "GET",
                "url": {
                  "raw": "{{base_url}}/notifications/read",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "notifications",
                    "read"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [],
              "cookie": [],
              "body": "{\n  \"notifications\": [\n    {\n      \"id\": 32,\n      \"company_id\": 7,\n      \"type\": \"manual\",\n      \"title\": \"Recordatorio de pago\",\n      \"body\": \"Factura 120 vence mañana\",\n      \"source\": {\n        \"table\": \"invoices\",\n        \"id\": 120,\n        \"history_id\": 980\n      },\n      \"payload\": {\n        \"cta\": \"/invoices/120\"\n      },\n      \"severity\": \"info\",\n      \"created_by_user_id\": 1,\n      \"timestamps\": {\n        \"created_at\": \"2024-12-17 09:45:00\",\n        \"scheduled_at\": null,\n        \"sent_at\": null,\n        \"expires_at\": null\n      },\n      \"state\": {\n        \"is_read\": true,\n        \"read_at\": \"2024-12-18 08:00:00\",\n        \"is_hidden\": false,\n        \"hidden_at\": null\n      }\n    }\n  ]\n}"
            }
          ]
        },
        {
          "name": "Mark Notification Read",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "type": "string",
                  "value": "{{auth_token}}"
                }
              ]
            },
            "description": "**PATCH {{base_url}}/notifications/:id/read**\n\nMarca una notificación como leída para el usuario actual. No se permite revertir a no leído.",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"read\": true,\n  \"read_at\": \"2025-04-01 10:00:00\"\n}"
            },
            "method": "PATCH",
            "url": {
              "raw": "{{base_url}}/notifications/:id/read",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "notifications",
                ":id",
                "read"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            }
          },
          "response": [
            {
              "name": "200 OK - marcada como leída",
              "originalRequest": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "type": "string",
                      "value": "{{auth_token}}"
                    }
                  ]
                },
                "description": "**PATCH {{base_url}}/notifications/:id/read**\n\nMarca una notificación como leída para el usuario actual. No se permite revertir a no leído.",
                "header": [
                  {
                    "key": "Content-Type",
                    "name": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"read\": true,\n  \"read_at\": \"2025-04-01 10:00:00\"\n}"
                },
                "method": "PATCH",
                "url": {
                  "raw": "{{base_url}}/notifications/:id/read",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "notifications",
                    ":id",
                    "read"
                  ],
                  "variable": [
                    {
                      "key": "id",
                      "value": "1"
                    }
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [],
              "cookie": [],
              "body": "{\n  \"message\": \"Notification marked as read\",\n  \"notification\": {\n    \"id\": 32,\n    \"company_id\": 7,\n    \"type\": \"manual\",\n    \"title\": \"Recordatorio de pago\",\n    \"body\": \"Factura 120 vence mañana\",\n    \"source\": {\n      \"table\": \"invoices\",\n      \"id\": 120,\n      \"history_id\": 980\n    },\n    \"payload\": {\n      \"cta\": \"/invoices/120\"\n    },\n    \"severity\": \"info\",\n    \"created_by_user_id\": 1,\n    \"timestamps\": {\n      \"created_at\": \"2024-12-17 09:45:00\",\n      \"scheduled_at\": null,\n      \"sent_at\": null,\n      \"expires_at\": null\n    },\n    \"state\": {\n      \"is_read\": true,\n      \"read_at\": \"2024-12-18 08:00:00\",\n      \"is_hidden\": false,\n      \"hidden_at\": null\n    }\n  }\n}"
            },
            {
              "name": "404 Not Found - inexistente",
              "originalRequest": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "type": "string",
                      "value": "{{auth_token}}"
                    }
                  ]
                },
                "description": "**PATCH {{base_url}}/notifications/:id/read**\n\nMarca una notificación como leída para el usuario actual. No se permite revertir a no leído.",
                "header": [
                  {
                    "key": "Content-Type",
                    "name": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"read\": true,\n  \"read_at\": \"2025-04-01 10:00:00\"\n}"
                },
                "method": "PATCH",
                "url": {
                  "raw": "{{base_url}}/notifications/:id/read",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "notifications",
                    ":id",
                    "read"
                  ],
                  "variable": [
                    {
                      "key": "id",
                      "value": "1"
                    }
                  ]
                }
              },
              "status": "Not Found",
              "code": 404,
              "_postman_previewlanguage": "json",
              "header": [],
              "cookie": [],
              "body": "{\n  \"error\": \"Notification not found\"\n}"
            }
          ]
        },
        {
          "name": "Mark All Notifications Read",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "type": "string",
                  "value": "{{auth_token}}"
                }
              ]
            },
            "description": "**POST {{base_url}}/notifications/mark-all-read**\n\nMarca todas las notificaciones visibles como leídas; acepta `company_id` para limitar el alcance.",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"company_id\": 0\n}"
            },
            "method": "POST",
            "url": {
              "raw": "{{base_url}}/notifications/mark-all-read",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "notifications",
                "mark-all-read"
              ]
            }
          },
          "response": [
            {
              "name": "200 OK - lote",
              "originalRequest": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "type": "string",
                      "value": "{{auth_token}}"
                    }
                  ]
                },
                "description": "**POST {{base_url}}/notifications/mark-all-read**\n\nMarca todas las notificaciones visibles como leídas; acepta `company_id` para limitar el alcance.",
                "header": [
                  {
                    "key": "Content-Type",
                    "name": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"company_id\": 0\n}"
                },
                "method": "POST",
                "url": {
                  "raw": "{{base_url}}/notifications/mark-all-read",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "notifications",
                    "mark-all-read"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [],
              "cookie": [],
              "body": "{\n  \"message\": \"Notifications marked as read\",\n  \"updated_count\": 12\n}"
            },
            {
              "name": "400 Bad Request - company_id inválido",
              "originalRequest": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "type": "string",
                      "value": "{{auth_token}}"
                    }
                  ]
                },
                "description": "**POST {{base_url}}/notifications/mark-all-read**\n\nMarca todas las notificaciones visibles como leídas; acepta `company_id` para limitar el alcance.",
                "header": [
                  {
                    "key": "Content-Type",
                    "name": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"company_id\": 0\n}"
                },
                "method": "POST",
                "url": {
                  "raw": "{{base_url}}/notifications/mark-all-read",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "notifications",
                    "mark-all-read"
                  ]
                }
              },
              "status": "Bad Request",
              "code": 400,
              "_postman_previewlanguage": "json",
              "header": [],
              "cookie": [],
              "body": "{\n  \"error\": \"company_id must be numeric\"\n}"
            }
          ]
        },
        {
          "name": "Hide Notification",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "type": "string",
                  "value": "{{auth_token}}"
                }
              ]
            },
            "description": "**PATCH {{base_url}}/notifications/:id/hide**\n\nOculta la notificación para el usuario autenticado y registra `hidden_at` si se envía.",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"hidden_at\": \"2025-04-01 10:00:00\"\n}"
            },
            "method": "PATCH",
            "url": {
              "raw": "{{base_url}}/notifications/:id/hide",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "notifications",
                ":id",
                "hide"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "1"
                }
              ]
            }
          },
          "response": [
            {
              "name": "200 OK - oculta",
              "originalRequest": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "type": "string",
                      "value": "{{auth_token}}"
                    }
                  ]
                },
                "description": "**PATCH {{base_url}}/notifications/:id/hide**\n\nOculta la notificación para el usuario autenticado y registra `hidden_at` si se envía.",
                "header": [
                  {
                    "key": "Content-Type",
                    "name": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"hidden_at\": \"2025-04-01 10:00:00\"\n}"
                },
                "method": "PATCH",
                "url": {
                  "raw": "{{base_url}}/notifications/:id/hide",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "notifications",
                    ":id",
                    "hide"
                  ],
                  "variable": [
                    {
                      "key": "id",
                      "value": "1"
                    }
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [],
              "cookie": [],
              "body": "{\n  \"message\": \"Notification hidden\",\n  \"notification\": {\n    \"id\": 32,\n    \"company_id\": 7,\n    \"type\": \"manual\",\n    \"title\": \"Recordatorio de pago\",\n    \"body\": \"Factura 120 vence mañana\",\n    \"source\": {\n      \"table\": \"invoices\",\n      \"id\": 120,\n      \"history_id\": 980\n    },\n    \"payload\": {\n      \"cta\": \"/invoices/120\"\n    },\n    \"severity\": \"info\",\n    \"created_by_user_id\": 1,\n    \"timestamps\": {\n      \"created_at\": \"2024-12-17 09:45:00\",\n      \"scheduled_at\": null,\n      \"sent_at\": null,\n      \"expires_at\": null\n    },\n    \"state\": {\n      \"is_read\": true,\n      \"read_at\": \"2024-12-18 08:00:00\",\n      \"is_hidden\": true,\n      \"hidden_at\": \"2024-12-18 10:15:00\"\n    }\n  }\n}"
            },
            {
              "name": "404 Not Found - inexistente",
              "originalRequest": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "type": "string",
                      "value": "{{auth_token}}"
                    }
                  ]
                },
                "description": "**PATCH {{base_url}}/notifications/:id/hide**\n\nOculta la notificación para el usuario autenticado y registra `hidden_at` si se envía.",
                "header": [
                  {
                    "key": "Content-Type",
                    "name": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"hidden_at\": \"2025-04-01 10:00:00\"\n}"
                },
                "method": "PATCH",
                "url": {
                  "raw": "{{base_url}}/notifications/:id/hide",
                  "host": [
                    "{{base_url}}"
                  ],
                  "path": [
                    "notifications",
                    ":id",
                    "hide"
                  ],
                  "variable": [
                    {
                      "key": "id",
                      "value": "1"
                    }
                  ]
                }
              },
              "status": "Not Found",
              "code": 404,
              "_postman_previewlanguage": "json",
              "header": [],
              "cookie": [],
              "body": "{\n  \"error\": \"Notification not found\"\n}"
            }
          ]
        }
      ]
    },
    {
      "name": "Companies",
      "item": [
        {
          "name": "List Companies",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/companies",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies"
              ]
            },
            "description": "**GET {baseUrl}/companies**\n\nDescripción: Endpoint `List Companies` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Get Companies",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}",
                "type": "text",
                "description": "Token Bearer obligatorio para consultar una empresa."
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/companies/{{company_id}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "{{company_id}}"
              ]
            },
            "description": "**GET {baseUrl}/companies/{{company_id}}**\n\nDescripción: Endpoint `Get Companies` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}` y devuelve los campos de control (`administrator_ids`, `admin_users`) junto con el resto de la ficha."
          },
          "response": []
        },
        {
          "name": "Create Companies",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"razon_social\": \"Empresa Ejemplo SA\",\n  \"id_tipo_doc\": 80,\n  \"nro_doc\": 20111222333,\n  \"id_condicion_iva\": 1,\n  \"nombre_fantasia\": \"Marca Ejemplo\",\n  \"iibb\": \"123-456789-0\",\n  \"inicio_actividad\": \"2021-01-01\",\n  \"profile_file_id\": null,\n  \"activo\": 1,\n  \"administrator_ids\": [\n    1,\n    5\n  ],\n  \"admin_users\": [\n    {\n      \"user_id\": 1,\n      \"role\": \"owner\",\n      \"notes\": \"Superusuario con acceso total\"\n    },\n    {\n      \"user_id\": 5,\n      \"role\": \"admin\",\n      \"notes\": \"Coordina backoffice\"\n    }\n  ],\n  \"timestamp\": \"{{company_timestamp}}\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/companies",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies"
              ]
            },
            "description": "**POST {baseUrl}/companies**\n\nDescripción: Endpoint `Create Companies` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`. Incluye `administrator_ids`/`admin_users` para definir quiénes podrán gestionar membresías y permisos desde el alta."
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "const now = new Date();",
                  "const offsetMs = now.getTimezoneOffset() * 60000;",
                  "const local = new Date(now.getTime() - offsetMs);",
                  "const formatted = local.toISOString().slice(0, 19).replace('T', ' ');",
                  "pm.collectionVariables.set('company_timestamp', formatted);"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status code is 201', function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "const jsonData = pm.response.json();",
                  "if (jsonData && jsonData.id) {",
                  "    pm.collectionVariables.set('company_id', jsonData.id);",
                  "}",
                  "pm.collectionVariables.set('company_history_expected', 1);"
                ]
              }
            }
          ]
        },
        {
          "name": "Create Companies (duplicate timestamp)",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "const jsonData = pm.response.json();",
                  "const expectedId = Number(pm.collectionVariables.get('company_id'));",
                  "pm.test('Duplicate creation reused company id', function () {",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(Number(jsonData.id)).to.eql(expectedId);",
                  "});",
                  "pm.collectionVariables.set('company_history_expected', 1);"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"razon_social\": \"Empresa Ejemplo SA\",\r\n  \"id_tipo_doc\": 80,\r\n  \"nro_doc\": 20111222333,\r\n  \"id_condicion_iva\": 1,\r\n  \"nombre_fantasia\": \"Marca Ejemplo\",\r\n  \"iibb\": \"123-456789-0\",\r\n  \"inicio_actividad\": \"2021-01-01\",\r\n  \"profile_file_id\": null,\r\n  \"activo\": 1,\r\n  \"timestamp\": \"{{company_timestamp}}\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/companies",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies"
              ]
            },
            "description": "**POST {baseUrl}/companies**\n\nDescripción: Endpoint `Create Companies` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Update Companies",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre_fantasia\": \"Marca Renovada\",\n  \"profile_file_id\": 42,\n  \"activo\": 1,\n  \"administrator_ids\": [\n    1,\n    7\n  ],\n  \"admin_users\": [\n    {\n      \"user_id\": 1,\n      \"role\": \"owner\",\n      \"notes\": \"Superusuario con acceso total\"\n    },\n    {\n      \"user_id\": 7,\n      \"role\": \"admin\",\n      \"notes\": \"Soporte regional\"\n    }\n  ],\n  \"timestamp\": \"{{company_update_timestamp}}\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/companies/{{company_id}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "{{company_id}}"
              ]
            },
            "description": "**PUT {baseUrl}/companies/{{company_id}}**\n\nDescripción: Endpoint `Update Companies` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`. Incluye los nuevos `administrator_ids`/`admin_users` esperados por los endpoints de empresas y refleja los cambios en el historial."
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "const now = new Date();",
                  "const offsetMs = now.getTimezoneOffset() * 60000;",
                  "const local = new Date(now.getTime() - offsetMs);",
                  "const formatted = local.toISOString().slice(0, 19).replace('T', ' ');",
                  "pm.collectionVariables.set('company_update_timestamp', formatted);"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "const jsonData = pm.response.json();",
                  "pm.test('Update operation succeeded', function () {",
                  "    pm.expect(jsonData).to.have.property('message', 'Company updated');",
                  "});",
                  "pm.collectionVariables.set('company_history_expected', 2);"
                ]
              }
            }
          ]
        },
        {
          "name": "Update Companies (duplicate timestamp)",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "const jsonData = pm.response.json();",
                  "pm.test('Duplicate update acknowledged', function () {",
                  "    pm.expect(jsonData).to.have.property('message', 'Company updated');",
                  "});",
                  "pm.collectionVariables.set('company_history_expected', 2);"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"nombre_fantasia\": \"Marca Renovada\",\r\n  \"profile_file_id\": 42,\r\n  \"activo\": 1,\r\n  \"timestamp\": \"{{company_update_timestamp}}\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/companies/{{company_id}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "{{company_id}}"
              ]
            },
            "description": "**PUT {baseUrl}/companies/{{company_id}}**\n\nDescripción: Endpoint `Update Companies` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Delete Companies",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"timestamp\": \"{{company_delete_timestamp}}\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/companies/{{company_id}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "{{company_id}}"
              ]
            },
            "description": "**DELETE {baseUrl}/companies/{{company_id}}**\n\nDescripción: Endpoint `Delete Companies` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "const now = new Date();",
                  "const offsetMs = now.getTimezoneOffset() * 60000;",
                  "const local = new Date(now.getTime() - offsetMs);",
                  "const formatted = local.toISOString().slice(0, 19).replace('T', ' ');",
                  "pm.collectionVariables.set('company_delete_timestamp', formatted);"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "const jsonData = pm.response.json();",
                  "pm.test('Delete operation succeeded', function () {",
                  "    pm.expect(jsonData).to.have.property('message', 'Company deleted');",
                  "});",
                  "pm.collectionVariables.set('company_history_expected', 3);"
                ]
              }
            }
          ]
        },
        {
          "name": "Delete Companies (duplicate timestamp)",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "const jsonData = pm.response.json();",
                  "pm.test('Duplicate deletion acknowledged', function () {",
                  "    pm.expect(jsonData).to.have.property('message', 'Company deleted');",
                  "});",
                  "pm.collectionVariables.set('company_history_expected', 3);"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"timestamp\": \"{{company_delete_timestamp}}\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/companies/{{company_id}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "{{company_id}}"
              ]
            },
            "description": "**DELETE {baseUrl}/companies/{{company_id}}**\n\nDescripción: Endpoint `Delete Companies` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Company History",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/companies/{{company_id}}/history",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "{{company_id}}",
                "history"
              ]
            },
            "description": "**GET {baseUrl}/companies/{{company_id}}/history**\n\nDescripción: Endpoint `Company History` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "const jsonData = pm.response.json();",
                  "const records = (jsonData && jsonData.data) ? jsonData.data : [];",
                  "const expected = Number(pm.collectionVariables.get('company_history_expected') || 0);",
                  "pm.test('History count matches expectation', function () {",
                  "    pm.expect(records.length).to.eql(expected);",
                  "});"
                ]
              }
            }
          ]
        },
        {
          "name": "List Company Addresses",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/company-addresses",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "company-addresses"
              ]
            },
            "description": "**GET {baseUrl}/company-addresses**\n\nDescripción: Endpoint `List Company Addresses` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Get Company Addresses",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/company-addresses/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "company-addresses",
                "1"
              ]
            },
            "description": "**GET {baseUrl}/company-addresses/1**\n\nDescripción: Endpoint `Get Company Addresses` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Create Company Addresses",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"empresa_id\": 1,\r\n  \"etiqueta\": \"Oficina Central\",\r\n  \"pais\": \"Argentina\",\r\n  \"provincia\": \"Buenos Aires\",\r\n  \"ciudad\": \"La Plata\",\r\n  \"calle\": \"Calle 50\",\r\n  \"numero\": \"123\",\r\n  \"cp\": \"1900\",\r\n  \"lat\": -34.92145,\r\n  \"lng\": -57.95453,\r\n  \"es_principal\": 1\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/company-addresses",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "company-addresses"
              ]
            },
            "description": "**POST {baseUrl}/company-addresses**\n\nDescripción: Endpoint `Create Company Addresses` dentro de Companies.\n\nLa respuesta exitosa incluye el nuevo `id` y el objeto `data` con todos los campos (lat/lng incluidos).\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Update Company Addresses",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"ciudad\": \"Buenos Aires\",\r\n  \"cp\": \"1900\",\r\n  \"lat\": -34.60372,\r\n  \"lng\": -58.38157,\r\n  \"es_principal\": 0\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/company-addresses/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "company-addresses",
                "1"
              ]
            },
            "description": "**PUT {baseUrl}/company-addresses/1**\n\nDescripción: Endpoint `Update Company Addresses` dentro de Companies.\n\nDevuelve el registro actualizado en la clave `data`, permitiendo refrescar lat/lng sin una consulta adicional.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Delete Company Addresses",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"timestamp\": \"2024-01-01 00:00:00\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/company-addresses/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "company-addresses",
                "1"
              ]
            },
            "description": "**DELETE {baseUrl}/company-addresses/1**\n\nDescripción: Endpoint `Delete Company Addresses` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Company Address History",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/company-addresses/1/history",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "company-addresses",
                "1",
                "history"
              ]
            },
            "description": "**GET {baseUrl}/company-addresses/1/history**\n\nDescripción: Endpoint `Company Address History` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "List Contacts",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/contacts",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "contacts"
              ]
            },
            "description": "**GET {baseUrl}/contacts**\n\nDescripción: Endpoint `List Contacts` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Get Contacts",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/contacts/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "contacts",
                "1"
              ]
            },
            "description": "**GET {baseUrl}/contacts/1**\n\nDescripción: Endpoint `Get Contacts` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Create Contacts",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"nombre\": \"María\",\r\n  \"apellido\": \"Pérez\",\r\n  \"cargo\": \"Gerente\",\r\n  \"notas\": \"Contacto principal\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/contacts",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "contacts"
              ]
            },
            "description": "**POST {baseUrl}/contacts**\n\nDescripción: Endpoint `Create Contacts` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Update Contacts",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"cargo\": \"Directora Comercial\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/contacts/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "contacts",
                "1"
              ]
            },
            "description": "**PUT {baseUrl}/contacts/1**\n\nDescripción: Endpoint `Update Contacts` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Delete Contacts",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"timestamp\": \"2024-01-01 00:00:00\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/contacts/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "contacts",
                "1"
              ]
            },
            "description": "**DELETE {baseUrl}/contacts/1**\n\nDescripción: Endpoint `Delete Contacts` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Contact History",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/contacts/1/history",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "contacts",
                "1",
                "history"
              ]
            },
            "description": "**GET {baseUrl}/contacts/1/history**\n\nDescripción: Endpoint `Contact History` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "List Company Contacts",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/company-contacts",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "company-contacts"
              ]
            },
            "description": "**GET {baseUrl}/company-contacts**\n\nDescripción: Endpoint `List Company Contacts` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Get Company Contacts",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/company-contacts/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "company-contacts",
                "1"
              ]
            },
            "description": "**GET {baseUrl}/company-contacts/1**\n\nDescripción: Endpoint `Get Company Contacts` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Create Company Contacts",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"empresa_id\": 1,\r\n  \"contacto_id\": 1,\r\n  \"departamento\": \"Ventas\",\r\n  \"es_principal\": 1\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/company-contacts",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "company-contacts"
              ]
            },
            "description": "**POST {baseUrl}/company-contacts**\n\nDescripción: Endpoint `Create Company Contacts` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Update Company Contacts",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"departamento\": \"Soporte\",\r\n  \"es_principal\": 0\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/company-contacts/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "company-contacts",
                "1"
              ]
            },
            "description": "**PUT {baseUrl}/company-contacts/1**\n\nDescripción: Endpoint `Update Company Contacts` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Delete Company Contacts",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"timestamp\": \"2024-01-01 00:00:00\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/company-contacts/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "company-contacts",
                "1"
              ]
            },
            "description": "**DELETE {baseUrl}/company-contacts/1**\n\nDescripción: Endpoint `Delete Company Contacts` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Company Contact History",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/company-contacts/1/history",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "company-contacts",
                "1",
                "history"
              ]
            },
            "description": "**GET {baseUrl}/company-contacts/1/history**\n\nDescripción: Endpoint `Company Contact History` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "List Company Channels",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/company-channels",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "company-channels"
              ]
            },
            "description": "**GET {baseUrl}/company-channels**\n\nDescripción: Endpoint `List Company Channels` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Get Company Channels",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/company-channels/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "company-channels",
                "1"
              ]
            },
            "description": "**GET {baseUrl}/company-channels/1**\n\nDescripción: Endpoint `Get Company Channels` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Create Company Channels",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"empresa_id\": 1,\r\n  \"tipo\": \"email\",\r\n  \"valor\": \"contacto@empresa.com\",\r\n  \"etiqueta\": \"Atención\",\r\n  \"es_principal\": 1,\r\n  \"verificado\": 1\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/company-channels",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "company-channels"
              ]
            },
            "description": "**POST {baseUrl}/company-channels**\n\nDescripción: Endpoint `Create Company Channels` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Update Company Channels",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"valor\": \"ventas@empresa.com\",\r\n  \"etiqueta\": \"Ventas\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/company-channels/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "company-channels",
                "1"
              ]
            },
            "description": "**PUT {baseUrl}/company-channels/1**\n\nDescripción: Endpoint `Update Company Channels` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Delete Company Channels",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"timestamp\": \"2024-01-01 00:00:00\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/company-channels/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "company-channels",
                "1"
              ]
            },
            "description": "**DELETE {baseUrl}/company-channels/1**\n\nDescripción: Endpoint `Delete Company Channels` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Company Channel History",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/company-channels/1/history",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "company-channels",
                "1",
                "history"
              ]
            },
            "description": "**GET {baseUrl}/company-channels/1/history**\n\nDescripción: Endpoint `Company Channel History` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "List Contact Channels",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/contact-channels",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "contact-channels"
              ]
            },
            "description": "**GET {baseUrl}/contact-channels**\n\nDescripción: Endpoint `List Contact Channels` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Get Contact Channels",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/contact-channels/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "contact-channels",
                "1"
              ]
            },
            "description": "**GET {baseUrl}/contact-channels/1**\n\nDescripción: Endpoint `Get Contact Channels` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Create Contact Channels",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"contacto_id\": 1,\r\n  \"tipo\": \"telefono\",\r\n  \"valor\": \"+54 11 1234 5678\",\r\n  \"etiqueta\": \"Celular\",\r\n  \"es_principal\": 1,\r\n  \"verificado\": 0\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/contact-channels",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "contact-channels"
              ]
            },
            "description": "**POST {baseUrl}/contact-channels**\n\nDescripción: Endpoint `Create Contact Channels` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Update Contact Channels",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"valor\": \"+54 11 9999 8888\",\r\n  \"verificado\": 1\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/contact-channels/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "contact-channels",
                "1"
              ]
            },
            "description": "**PUT {baseUrl}/contact-channels/1**\n\nDescripción: Endpoint `Update Contact Channels` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Delete Contact Channels",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"timestamp\": \"2024-01-01 00:00:00\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/contact-channels/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "contact-channels",
                "1"
              ]
            },
            "description": "**DELETE {baseUrl}/contact-channels/1**\n\nDescripción: Endpoint `Delete Contact Channels` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Contact Channel History",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/contact-channels/1/history",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "contact-channels",
                "1",
                "history"
              ]
            },
            "description": "**GET {baseUrl}/contact-channels/1/history**\n\nDescripción: Endpoint `Contact Channel History` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Search Companies (by name or document)",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/companies/search?q={{search_text}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "search"
              ],
              "query": [
                {
                  "key": "q",
                  "value": "{{search_text}}",
                  "description": "Texto a buscar en razón social o nombre fantasia"
                },
                {
                  "key": "doc",
                  "value": "",
                  "description": "Opcional: número de documento exacto"
                }
              ]
            },
            "description": "**GET {baseUrl}/companies/search**\n\nDescripción: Busca compañías utilizando coincidencias parciales en razón social o nombre de fantasía y opcionalmente por documento.\n\n> Comentario: Requiere token Bearer en Authorization."
          },
          "response": []
        },
        {
          "name": "Request Company Membership",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"Quisiera sumarme al equipo.\",\n  \"role\": \"member\",\n  \"position_title\": \"Analista Sr\",\n  \"department\": \"Finanzas\",\n  \"started_at\": \"2024-01-15T09:00:00-03:00\",\n  \"employment_type\": \"full_time\",\n  \"visibility\": \"company\",\n  \"profile_excerpt\": \"Experiencia liderando auditorías SOX.\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/companies/{{company_id}}/memberships",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "{{company_id}}",
                "memberships"
              ]
            },
            "description": "**POST {baseUrl}/companies/{{company_id}}/memberships**\n\nDescripción: Envia una solicitud para unirse a la empresa especificada incluyendo metadatos opcionales (`position_title`, `department`, `started_at`, `ended_at`, `employment_type`, `visibility`, `profile_excerpt`).\n\n> Comentario: Requiere token Bearer en Authorization. El cuerpo permite adjuntar un mensaje opcional, el rol deseado y la visibilidad del perfil."
          },
          "response": []
        },
        {
          "name": "List Company Memberships",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/companies/{{company_id}}/memberships?status=pending",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "{{company_id}}",
                "memberships"
              ],
              "query": [
                {
                  "key": "status",
                  "value": "pending",
                  "description": "Filtra por estado: pending, invited, approved, rejected, cancelled, left, removed o suspended. Usa `status=all` para ver todos los registros."
                }
              ]
            },
            "description": "**GET {baseUrl}/companies/{{company_id}}/memberships**\n\nDescripción: Lista miembros y solicitudes de la empresa, permitiendo filtrar por estado (por defecto solo se devuelven estados operativos). Incluye los metadatos `position_title`, `department`, `employment_type`, `started_at`, `ended_at`, `profile_excerpt` y la `visibility` cuando el perfil lo permite.\n\n> Comentario: Requiere token Bearer en Authorization; enviar `status=all` si se desea recuperar estados históricos como `left`, `removed` o `suspended`."
          },
          "response": []
        },
        {
          "name": "Get Membership History",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{auth_token}}",
                "type": "text",
                "description": "Token Bearer obligatorio salvo login/registro."
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/companies/{{company_id}}/memberships/{{membership_id}}/history",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "{{company_id}}",
                "memberships",
                "{{membership_id}}",
                "history"
              ],
              "variable": [
                {
                  "key": "company_id",
                  "value": "{{company_id}}",
                  "description": "Identificador interno de la empresa."
                },
                {
                  "key": "membership_id",
                  "value": "{{membership_id}}",
                  "description": "ID de la membresía en empresas_usuarios."
                }
              ]
            },
            "description": "**GET {baseUrl}/companies/{{company_id}}/memberships/{{membership_id}}/history**\n\nDescripción: Devuelve el historial completo de una membresía en orden cronológico, incluyendo `operation_type`, `notes`, `changed_by`, `changed_by_name`, `changed_by_email`, `changed_at` y los snapshots de metadatos (`previous_state`, `new_state`, `metadata_snapshot`). Cuando hay ejecutor se adjunta `changed_by_profile` (id, username, email, full_name, profile_file_id, display_name) y `executor` con roles vigentes para mostrar avatar/nombre.\n\n> Comentario: Requiere encabezado Authorization: Bearer {{auth_token}} y el permiso `manageCompanyMemberships` para que solo owners/administradores accedan a los registros."
          },
          "response": [
            {
              "name": "200 OK - History with snapshots",
              "originalRequest": {
                "auth": {
                  "type": "bearer",
                  "bearer": [
                    {
                      "key": "token",
                      "value": "{{auth_token}}",
                      "type": "string"
                    }
                  ]
                },
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{auth_token}}",
                    "type": "text",
                    "description": "Token Bearer obligatorio salvo login/registro."
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/companies/{{company_id}}/memberships/{{membership_id}}/history",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "companies",
                    "{{company_id}}",
                    "memberships",
                    "{{membership_id}}",
                    "history"
                  ],
                  "variable": [
                    {
                      "key": "company_id",
                      "value": "{{company_id}}",
                      "description": "Identificador interno de la empresa."
                    },
                    {
                      "key": "membership_id",
                      "value": "{{membership_id}}",
                      "description": "ID de la membresía en empresas_usuarios."
                    }
                  ]
                },
                "description": "**GET {baseUrl}/companies/{{company_id}}/memberships/{{membership_id}}/history**\n\nDescripción: Devuelve el historial completo de una membresía en orden cronológico, incluyendo `operation_type`, `notes`, `changed_by`, `changed_by_name`, `changed_by_email`, `changed_at` y los snapshots de metadatos (`previous_state`, `new_state`, `metadata_snapshot`). Cuando hay ejecutor se adjunta `changed_by_profile` (id, username, email, full_name, profile_file_id, display_name) para mostrar avatar/nombre.\n\n> Comentario: Requiere encabezado Authorization: Bearer {{auth_token}} y el permiso `manageCompanyMemberships` para que solo owners/administradores accedan a los registros."
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [],
              "body": "{\n  \"history\": [\n    {\n      \"id\": 901,\n      \"company_id\": 33,\n      \"membership_id\": 77,\n      \"operation_type\": \"status_changed\",\n      \"notes\": \"Aprobada por owner con rol operativo\",\n      \"metadata_snapshot\": {\n        \"role\": \"admin\",\n        \"administrator_ids\": [\n          1,\n          7\n        ],\n        \"admin_users\": [\n          {\n            \"user_id\": 1,\n            \"role\": \"owner\",\n            \"display_name\": \"Super Usuario\"\n          },\n          {\n            \"user_id\": 7,\n            \"role\": \"admin\",\n            \"display_name\": \"Líder Operativo\"\n          }\n        ]\n      },\n      \"previous_state\": {\n        \"status\": \"pending\",\n        \"role\": \"member\",\n        \"administrator_ids\": [\n          1\n        ]\n      },\n      \"new_state\": {\n        \"status\": \"approved\",\n        \"role\": \"admin\",\n        \"administrator_ids\": [\n          1,\n          7\n        ]\n      },\n      \"changed_by\": 1,\n      \"changed_by_name\": \"Super Usuario\",\n      \"changed_by_email\": \"root@sisa.test\",\n      \"changed_by_profile\": {\n        \"id\": 1,\n        \"username\": \"root\",\n        \"email\": \"root@sisa.test\",\n        \"full_name\": \"Super Usuario\",\n        \"profile_file_id\": null,\n        \"display_name\": \"Super Usuario\"\n      },\n      \"executor\": {\n        \"id\": 1,\n        \"email\": \"root@sisa.test\",\n        \"display_name\": \"Super Usuario\",\n        \"roles\": [\n          \"owner\",\n          \"admin\"\n        ]\n      },\n      \"changed_at\": \"2024-12-28 10:00:00\"\n    }\n  ],\n  \"pagination\": {\n    \"total\": 1,\n    \"per_page\": 50,\n    \"current_page\": 1,\n    \"last_page\": 1\n  }\n}"
            }
          ]
        },
        {
          "name": "Invite Company Member",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": 15,\n  \"role\": \"member\",\n  \"expires_at\": \"2025-01-31T23:59:59\",\n  \"invitation_message\": \"Te esperamos en el equipo\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/companies/{{company_id}}/memberships/invite",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "{{company_id}}",
                "memberships",
                "invite"
              ]
            },
            "description": "**POST {baseUrl}/companies/{{company_id}}/memberships/invite**\n\nDescripción: Genera o renueva una invitación en estado `invited`, estableciendo `invitation_token`, `expires_at` y `invited_by`.\n\n> Comentario: Requiere permiso `inviteCompanyMembers` con token Bearer."
          },
          "response": []
        },
        {
          "name": "Cancel Company Invitation",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"notes\": \"Invitación cancelada por cambios internos\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/companies/{{company_id}}/memberships/{{membership_id}}/cancel-invitation",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "{{company_id}}",
                "memberships",
                "{{membership_id}}",
                "cancel-invitation"
              ]
            },
            "description": "**POST {baseUrl}/companies/{{company_id}}/memberships/{{membership_id}}/cancel-invitation**\n\nDescripción: Anula una invitación en estado `invited`, limpiando el token y dejando el registro como `cancelled`.\n\n> Comentario: Requiere permiso `cancelCompanyInvitations` con token Bearer."
          },
          "response": []
        },
        {
          "name": "Accept Company Invitation",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"token\": \"{{invitation_token}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/companies/{{company_id}}/memberships/{{membership_id}}/accept",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "{{company_id}}",
                "memberships",
                "{{membership_id}}",
                "accept"
              ]
            },
            "description": "**POST {baseUrl}/companies/{{company_id}}/memberships/{{membership_id}}/accept**\n\nDescripción: Permite que el usuario invitado valide `invitation_token` y deje su membresía en `approved`.\n\n> Comentario: Requiere permiso `acceptCompanyInvitation` con token Bearer y el token de invitación en el cuerpo."
          },
          "response": []
        },
        {
          "name": "Leave Company Membership",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"notes\": \"Renuncio voluntariamente a la empresa\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/companies/{{company_id}}/memberships/{{membership_id}}/leave",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "{{company_id}}",
                "memberships",
                "{{membership_id}}",
                "leave"
              ]
            },
            "description": "**POST {baseUrl}/companies/{{company_id}}/memberships/{{membership_id}}/leave**\n\nDescripción: Permite que el propio miembro marque su registro como `left` dejando un comentario opcional.\n\n> Comentario: Requiere permiso `leaveCompanyMembership` y token Bearer; solo aplica sobre membresías `approved`."
          },
          "response": []
        },
        {
          "name": "Suspend Company Member",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"notes\": \"Suspendido temporalmente por auditoría interna\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/companies/{{company_id}}/memberships/{{membership_id}}/suspend",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "{{company_id}}",
                "memberships",
                "{{membership_id}}",
                "suspend"
              ]
            },
            "description": "**POST {baseUrl}/companies/{{company_id}}/memberships/{{membership_id}}/suspend**\n\nDescripción: Cambia una membresía aprobada al estado `suspended` registrando notas internas.\n\n> Comentario: Requiere permiso `suspendCompanyMember` y token Bearer; evita suspender al último owner operativo."
          },
          "response": []
        },
        {
          "name": "Remove Company Member",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"notes\": \"Expulsión por incumplir el acuerdo de confidencialidad\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/companies/{{company_id}}/memberships/{{membership_id}}/remove",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "{{company_id}}",
                "memberships",
                "{{membership_id}}",
                "remove"
              ]
            },
            "description": "**POST {baseUrl}/companies/{{company_id}}/memberships/{{membership_id}}/remove**\n\nDescripción: Marca al miembro como `removed`, preservando las notas del administrador.\n\n> Comentario: Requiere permiso `removeCompanyMember` y token Bearer; verifica que exista al menos otro owner registrado."
          },
          "response": []
        },
        {
          "name": "Approve Company Membership",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"role\": \"member\",\n  \"notes\": \"Bienvenido al equipo\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/companies/{{company_id}}/memberships/{{membership_id}}/approve",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "{{company_id}}",
                "memberships",
                "{{membership_id}}",
                "approve"
              ]
            },
            "description": "**POST {baseUrl}/companies/{{company_id}}/memberships/{{membership_id}}/approve**\n\nDescripción: Aprueba una solicitud de membresía y opcionalmente asigna el rol operativo.\n\n> Comentario: Requiere token Bearer en Authorization."
          },
          "response": []
        },
        {
          "name": "Reject Company Membership",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"reason\": \"La empresa no admite nuevos miembros por ahora.\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/companies/{{company_id}}/memberships/{{membership_id}}/reject",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "{{company_id}}",
                "memberships",
                "{{membership_id}}",
                "reject"
              ]
            },
            "description": "**POST {baseUrl}/companies/{{company_id}}/memberships/{{membership_id}}/reject**\n\nDescripción: Rechaza una solicitud de membresía especificando un motivo.\n\n> Comentario: Requiere token Bearer en Authorization."
          },
          "response": []
        }
      ]
    },
    {
      "name": "login",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "if (pm.response.code === 200) {\r",
              "    let authHeader = pm.response.headers.get(\"Authorization\");\r",
              "    if (authHeader && authHeader.startsWith(\"Bearer \")) {\r",
              "        let token = authHeader.replace(\"Bearer \", \"\").trim();\r",
              "\r",
              "        // Guardar en variables reutilizables\r",
              "        pm.collectionVariables.set(\"auth_token\", token);\r",
              "        pm.collectionVariables.set(\"token\", token);\r",
              "        try {\r",
              "            pm.environment.set(\"auth_token\", token);\r",
              "            pm.environment.set(\"token\", token);\r",
              "        } catch (error) {\r",
              "            console.warn(\"No environment selected; token stored only at collection level.\");\r",
              "        }\r",
              "\r",
              "        pm.globals.set(\"Token\", token);\r",
              "        pm.globals.set(\"token\", token);\r",
              "\r",
              "        // Mostrar en consola\r",
              "        console.log(\"=== TOKEN CAPTURADO ===\");\r",
              "        console.log(token);\r",
              "        console.log(\"=======================\");\r",
              "\r",
              "        // Mostrar en la pestaña \"Visualize\"\r",
              "        pm.visualizer.set(`\r",
              "            <div style=\"font-family: monospace; padding: 10px;\">\r",
              "                <h3 style=\"color: green;\">Token guardado en auth_token (colección), token y Token</h3>\r",
              "                <pre>${token}</pre>\r",
              "            </div>\r",
              "        `);\r",
              "    } else {\r",
              "        console.log(\"No se encontró el header Authorization con Bearer.\");\r",
              "    }\r",
              "}\r",
              "\r",
              ""
            ],
            "type": "text/javascript",
            "packages": {}
          }
        }
      ],
      "request": {
        "auth": {
          "type": "noauth"
        },
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n  \"username\": \"pormauro\",\r\n  \"password\": \"6uWhg!8ke18#uH((yaPPiGA^\"\r\n}\r\n",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{base_url}}/login",
          "host": [
            "{{base_url}}"
          ],
          "path": [
            "login"
          ]
        },
        "description": "**POST {{base_url}}/login**\n\nDescripción: Endpoint `login` dentro de la colección.\n\n> Comentario: Endpoint público para iniciar sesión o registrar usuarios. No requiere encabezado Authorization."
      },
      "response": []
    },
    {
      "name": "Payment Templates",
      "item": [
        {
          "name": "List Payment Templates",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/payment_templates",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "payment_templates"
              ]
            },
            "description": "**GET {{baseUrl}}/payment_templates**\n\nDescripción: Endpoint `List Payment Templates` dentro de Payment Templates.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": [
            {
              "name": "Example",
              "originalRequest": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{token}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/payment_templates",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "payment_templates"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "Text",
              "header": [],
              "cookie": [],
              "body": "{\n  \"templates\": [\n    {\n      \"id\": 1,\n      \"name\": \"Combustible para el auto\",\n      \"default_amount\": 50000,\n      \"icon_name\": \"car-fuel\"\n    }\n  ]\n}"
            }
          ]
        },
        {
          "name": "Get Payment Template",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/payment_templates/{{templateId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "payment_templates",
                "{{templateId}}"
              ]
            },
            "description": "**GET {{baseUrl}}/payment_templates/{{templateId}}**\n\nDescripción: Endpoint `Get Payment Template` dentro de Payment Templates.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": [
            {
              "name": "Example",
              "originalRequest": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{token}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/payment_templates/{{templateId}}",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "payment_templates",
                    "{{templateId}}"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "Text",
              "header": [],
              "cookie": [],
              "body": "{\n  \"template\": {\n    \"id\": 1,\n    \"name\": \"Combustible para el auto\",\n    \"description\": \"Tanque completo cada mes\",\n    \"default_amount\": 50000,\n    \"icon_name\": \"car-fuel\"\n  }\n}"
            }
          ]
        },
        {
          "name": "Create Payment Template",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/payment_templates",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "payment_templates"
              ]
            },
            "description": "**POST {{baseUrl}}/payment_templates**\n\nDescripción: Endpoint `Create Payment Template` dentro de Payment Templates.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`.\n\nAcepta importes con coma o punto como separador decimal.",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"30 super\",\n  \"icon_name\": \"fuel-pump\",\n  \"paid_with_account\": 5,\n  \"creditor_type\": \"provider\",\n  \"creditor_provider_id\": 2,\n  \"description\": \"30 super\",\n  \"category_id\": 2,\n  \"price\": \"20.000,50\",\n  \"charge_client\": false,\n  \"attached_files\": [29]\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [
            {
              "name": "Example",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{token}}"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/payment_templates",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "payment_templates"
                  ]
                }
              },
              "status": "Created",
              "code": 201,
              "_postman_previewlanguage": "Text",
              "header": [],
              "cookie": [],
              "body": "{\n  \"message\": \"Template created\",\n  \"template_id\": 42\n}"
            }
          ]
        },
        {
          "name": "Update Payment Template",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/payment_templates/{{templateId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "payment_templates",
                "{{templateId}}"
              ]
            },
            "description": "**PUT {{baseUrl}}/payment_templates/{{templateId}}**\n\nDescripción: Endpoint `Update Payment Template` dentro de Payment Templates.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`.\n\nAcepta importes con coma o punto como separador decimal.",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Carga de combustible\",\n  \"price\": \"21,000.75\",\n  \"charge_client\": true,\n  \"client_id\": 45\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": [
            {
              "name": "Example",
              "originalRequest": {
                "method": "PUT",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{token}}"
                  },
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/payment_templates/{{templateId}}",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "payment_templates",
                    "{{templateId}}"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "Text",
              "header": [],
              "cookie": [],
              "body": "{\n  \"message\": \"Template updated\"\n}"
            }
          ]
        },
        {
          "name": "Delete Payment Template",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/payment_templates/{{templateId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "payment_templates",
                "{{templateId}}"
              ]
            },
            "description": "**DELETE {{baseUrl}}/payment_templates/{{templateId}}**\n\nDescripción: Endpoint `Delete Payment Template` dentro de Payment Templates.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{auth_token}}`."
          },
          "response": [
            {
              "name": "Example",
              "originalRequest": {
                "method": "DELETE",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{token}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/payment_templates/{{templateId}}",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "payment_templates",
                    "{{templateId}}"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "Text",
              "header": [],
              "cookie": [],
              "body": "{\n  \"message\": \"Template deleted\"\n}"
            }
          ]
        }
      ]
    },
    {
      "name": "Invoices",
      "item": [
        {
          "name": "List Invoices",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/invoices",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "invoices"
              ]
            },
            "description": "**GET {{baseUrl}}/invoices**\n\nDescripción: Endpoint `List Invoices` dentro de Invoices.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{token}}`.\n> Alcance: El backend limita automáticamente la respuesta a las empresas donde el token tenga membresías aprobadas; puedes enviar `company_id` (coma separada) para filtrar dentro de ese mismo ámbito."
          },
          "response": [
            {
              "name": "Example",
              "originalRequest": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{token}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/invoices",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "invoices"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "Text",
              "header": [],
              "cookie": [],
              "body": "{\n  \"invoices\": [\n    {\n      \"id\": 10,\n      \"invoice_number\": \"INV-2024-0001\",\n      \"currency_code\": \"ARS\",\n      \"total_amount\": 1500.5,\n      \"attachments\": []\n    }\n  ]\n}"
            }
          ]
        },
        {
          "name": "Get Invoice",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/invoices/{{invoiceId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "invoices",
                "{{invoiceId}}"
              ]
            },
            "description": "**GET {{baseUrl}}/invoices/{{invoiceId}}**\n\nDescripción: Endpoint `Get Invoice` dentro de Invoices.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{token}}`.\n> Nota: El servicio responde 404 si la factura no existe o si pertenece a una empresa fuera del alcance del token."
          },
          "response": [
            {
              "name": "Example",
              "originalRequest": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{token}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/invoices/{{invoiceId}}",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "invoices",
                    "{{invoiceId}}"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "Text",
              "header": [],
              "cookie": [],
              "body": "{\n  \"invoice\": {\n    \"id\": 10,\n    \"invoice_number\": \"INV-2024-0001\",\n    \"currency_code\": \"ARS\",\n    \"attachments\": [45, 46],\n    \"items\": [\n      {\n        \"description\": \"Servicio mensual\",\n        \"quantity\": 1,\n        \"unit_price\": 1500.5\n      }\n    ]\n  }\n}"
            }
          ]
        },
        {
          "name": "Create Invoice",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"client_id\": 3,\n  \"invoice_number\": \"INV-2024-0002\",\n  \"invoice_date\": \"2024-02-01\",\n  \"company_id\": 7,\n  \"attachments\": [45, 46],\n  \"currency_code\": \"USD\",\n  \"items\": [\n    {\n      \"job_id\": 502,\n      \"description\": \"Consultor\\u00eda\",\n      \"quantity\": 8,\n      \"unit_price\": 120,\n      \"tax_amount\": 192\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/invoices",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "invoices"
              ]
            },
            "description": "**POST {{baseUrl}}/invoices**\n\nDescripción: Endpoint `Create Invoice` dentro de Invoices.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{token}}`.\n> Nota: Si omites `currency_code` la API usará `ARS` por defecto. El campo `attachments` acepta un arreglo JSON de IDs de archivos y se guarda como `[]` cuando no se envía.\n> Importante: Debes incluir `company_id` con el ID de una empresa donde tu usuario tenga membresía aprobada (excepto el superusuario). Los valores fuera de ese alcance serán rechazados."
          },
          "response": [
            {
              "name": "Example",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{token}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/invoices",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "invoices"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "Text",
              "header": [],
              "cookie": [],
              "body": "{\n  \"message\": \"Invoice created successfully\",\n  \"invoice_id\": 11,\n  \"invoice\": {\n    \"id\": 11,\n    \"currency_code\": \"ARS\",\n    \"attachments\": [45, 46]\n  }\n}"
            }
          ]
        },
        {
          "name": "Update Invoice",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"issued\",\n  \"attachments\": [101, 103, 110],\n  \"items\": [\n    {\n      \"id\": 25,\n      \"job_id\": 502,\n      \"description\": \"Consultor\\u00eda revisada\",\n      \"quantity\": 10\n    },\n    {\n      \"id\": 26,\n      \"_delete\": true\n    },\n    {\n      \"job_id\": 540,\n      \"description\": \"Horas adicionales\",\n      \"quantity\": 2,\n      \"unit_price\": 100\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/invoices/{{invoiceId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "invoices",
                "{{invoiceId}}"
              ]
            },
            "description": "**PUT {{baseUrl}}/invoices/{{invoiceId}}**\n\nDescripción: Endpoint `Update Invoice` dentro de Invoices.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{token}}`.\n> Nota: Sólo puedes modificar `company_id` hacia empresas donde tengas membresía aprobada; cualquier intento fuera de ese alcance se rechaza con 403."
          },
          "response": [
            {
              "name": "Example",
              "originalRequest": {
                "method": "PUT",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{token}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/invoices/{{invoiceId}}",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "invoices",
                    "{{invoiceId}}"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "Text",
              "header": [],
              "cookie": [],
              "body": "{\n  \"message\": \"Invoice updated successfully\",\n  \"invoice\": {\n    \"id\": 25,\n    \"status\": \"issued\",\n    \"attachments\": [101, 103, 110]\n  }\n}"
            }
          ]
        },
        {
          "name": "Delete Invoice",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/invoices/{{invoiceId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "invoices",
                "{{invoiceId}}"
              ]
            },
            "description": "**DELETE {{baseUrl}}/invoices/{{invoiceId}}**\n\nDescripción: Endpoint `Delete Invoice` dentro de Invoices.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{token}}`.\n> Nota: Sólo puedes eliminar facturas de empresas donde tengas membresía aprobada; las demás devolverán 404."
          },
          "response": [
            {
              "name": "Example",
              "originalRequest": {
                "method": "DELETE",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{token}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/invoices/{{invoiceId}}",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "invoices",
                    "{{invoiceId}}"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "Text",
              "header": [],
              "cookie": [],
              "body": "{\n  \"message\": \"Invoice deleted successfully\"\n}"
            }
          ]
        },
        {
          "name": "Invoice Items",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/invoices/{{invoiceId}}/items",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "invoices",
                "{{invoiceId}}",
                "items"
              ]
            },
            "description": "**GET {{baseUrl}}/invoices/{{invoiceId}}/items**\n\nDescripción: Endpoint `Invoice Items` dentro de Invoices.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{token}}`.\n> Nota: El servicio responde 404 si la factura pertenece a otra empresa."
          },
          "response": [
            {
              "name": "Example",
              "originalRequest": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{token}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/invoices/{{invoiceId}}/items",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "invoices",
                    "{{invoiceId}}",
                    "items"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "Text",
              "header": [],
              "cookie": [],
              "body": "{\n  \"items\": [\n    {\n      \"description\": \"Consultoría\",\n      \"quantity\": 8,\n      \"unit_price\": 120\n    }\n  ]\n}"
            }
          ]
        },
        {
          "name": "Invoice History",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/invoices/{{invoiceId}}/history",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "invoices",
                "{{invoiceId}}",
                "history"
              ]
            },
            "description": "**GET {{baseUrl}}/invoices/{{invoiceId}}/history**\n\nDescripción: Endpoint `Invoice History` dentro de Invoices.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {{token}}`.\n> Nota: Devuelve 404 si la factura está fuera del ámbito del token."
          },
          "response": [
            {
              "name": "Example",
              "originalRequest": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{token}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/invoices/{{invoiceId}}/history",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "invoices",
                    "{{invoiceId}}",
                    "history"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "Text",
              "header": [],
              "cookie": [],
              "body": "{\n  \"invoice\": [\n    {\n      \"operation_type\": \"CREATION\",\n      \"changed_by\": 1\n    }\n  ],\n  \"items\": [\n    {\n      \"operation_type\": \"CREATION\",\n      \"changed_by\": 1\n    }\n  ]\n}"
            }
          ]
        },
        {
          "name": "Create Invoice Item",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"invoice_id\": \"{{invoiceId}}\",\n  \"job_id\": \"{{jobId}}\",\n  \"description\": \"Implementaci\\u00f3n\",\n  \"quantity\": 5,\n  \"unit_price\": 180,\n  \"tax_amount\": 189\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/invoice_items",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "invoice_items"
              ]
            },
            "description": "**POST {{baseUrl}}/invoice_items**\n\nCrea un ítem individual asociado a una factura existente."
          },
          "response": [
            {
              "name": "Example",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{token}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/invoice_items",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "invoice_items"
                  ]
                },
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"message\": \"Invoice item created\",\n  \"id\": 105,\n  \"item\": {\n    \"id\": 105,\n    \"invoice_id\": \"{{invoiceId}}\",\n    \"job_id\": \"{{jobId}}\",\n    \"description\": \"Implementaci\\u00f3n\",\n    \"quantity\": 5,\n    \"unit_price\": 180,\n    \"tax_amount\": 189,\n    \"total_amount\": 1089\n  }\n}"
                }
              },
              "status": "Created",
              "code": 201,
              "_postman_previewlanguage": "Text",
              "header": [],
              "cookie": [],
              "body": "{\n  \"message\": \"Invoice item created\",\n  \"id\": 105,\n  \"item\": {\n    \"id\": 105,\n    \"invoice_id\": \"{{invoiceId}}\",\n    \"job_id\": \"{{jobId}}\",\n    \"description\": \"Implementaci\\u00f3n\",\n    \"quantity\": 5,\n    \"unit_price\": 180,\n    \"tax_amount\": 189,\n    \"total_amount\": 1089\n  }\n}"
            }
          ]
        },
        {
          "name": "Update Invoice Item",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"quantity\": 6,\n  \"discount_amount\": 50,\n  \"job_id\": \"{{jobId}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/invoice_items/{{invoiceItemId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "invoice_items",
                "{{invoiceItemId}}"
              ]
            },
            "description": "**PUT {{baseUrl}}/invoice_items/{{invoiceItemId}}**\n\nActualiza un ítem puntual sin editar la factura completa."
          },
          "response": [
            {
              "name": "Example",
              "originalRequest": {
                "method": "PUT",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{token}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/invoice_items/{{invoiceItemId}}",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "invoice_items",
                    "{{invoiceItemId}}"
                  ]
                },
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"message\": \"Invoice item updated\",\n  \"item\": {\n    \"id\": \"{{invoiceItemId}}\",\n    \"invoice_id\": \"{{invoiceId}}\",\n    \"job_id\": \"{{jobId}}\",\n    \"description\": \"Implementaci\\u00f3n\",\n    \"quantity\": 6,\n    \"unit_price\": 180,\n    \"discount_amount\": 50,\n    \"total_amount\": 1030\n  }\n}"
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "Text",
              "header": [],
              "cookie": [],
              "body": "{\n  \"message\": \"Invoice item updated\",\n  \"item\": {\n    \"id\": \"{{invoiceItemId}}\",\n    \"invoice_id\": \"{{invoiceId}}\",\n    \"job_id\": \"{{jobId}}\",\n    \"description\": \"Implementaci\\u00f3n\",\n    \"quantity\": 6,\n    \"unit_price\": 180,\n    \"discount_amount\": 50,\n    \"total_amount\": 1030\n  }\n}"
            }
          ]
        },
        {
          "name": "Delete Invoice Item",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/invoice_items/{{invoiceItemId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "invoice_items",
                "{{invoiceItemId}}"
              ]
            },
            "description": "**DELETE {{baseUrl}}/invoice_items/{{invoiceItemId}}**\n\nElimina un ítem y recalcula los totales de la factura."
          },
          "response": [
            {
              "name": "Example",
              "originalRequest": {
                "method": "DELETE",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{token}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/invoice_items/{{invoiceItemId}}",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "invoice_items",
                    "{{invoiceItemId}}"
                  ]
                },
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"message\": \"Invoice item deleted\"\n}"
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "Text",
              "header": [],
              "cookie": [],
              "body": "{\n  \"message\": \"Invoice item deleted\"\n}"
            }
          ]
        },
        {
          "name": "List Invoice Receipts",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/invoices/{{invoiceId}}/receipts",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "invoices",
                "{{invoiceId}}",
                "receipts"
              ]
            },
            "description": "**GET {{baseUrl}}/invoices/{{invoiceId}}/receipts**\n\nDescripción: Devuelve los recibos que pagaron la factura indicada.\n\n> Comentario: Requiere encabezado Authorization con `Bearer {{token}}`."
          },
          "response": []
        },
        {
          "name": "Attach Receipt to Invoice",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"receipt_id\": \"{{receiptId}}\",\n  \"applied_amount\": 600,\n  \"notes\": \"Primer pago\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/invoices/{{invoiceId}}/receipts",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "invoices",
                "{{invoiceId}}",
                "receipts"
              ]
            },
            "description": "**POST {{baseUrl}}/invoices/{{invoiceId}}/receipts**\n\nDescripción: Relaciona la factura con un recibo existente.\n\n> Comentario: Requiere encabezado Authorization con `Bearer {{token}}` y enviar un `receipt_id`."
          },
          "response": []
        },
        {
          "name": "Detach Receipt Link",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/invoices/{{invoiceId}}/receipts/{{linkId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "invoices",
                "{{invoiceId}}",
                "receipts",
                "{{linkId}}"
              ]
            },
            "description": "**DELETE {{baseUrl}}/invoices/{{invoiceId}}/receipts/{{linkId}}**\n\nDescripción: Elimina el vínculo entre una factura y un recibo.\n\n> Comentario: Requiere encabezado Authorization con `Bearer {{token}}`."
          },
          "response": []
        }
      ],
      "description": "Endpoints para gestionar Invoices. Utiliza autenticación Bearer mediante la variable `{{auth_token}}`."
    },
    {
      "name": "Security regression",
      "description": "Escenarios rápidos para validar que los endpoints multi-tenant respetan el token en cada despliegue.",
      "item": [
        {
          "name": "Accounting closing denies foreign token",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token_usuario_B}}"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/accounting_closings/{{closing_id_usuario_A}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "accounting_closings",
                "{{closing_id_usuario_A}}"
              ]
            }
          },
          "response": [
            {
              "name": "403 Access denied",
              "originalRequest": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{token_usuario_B}}"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/accounting_closings/{{closing_id_usuario_A}}",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "accounting_closings",
                    "{{closing_id_usuario_A}}"
                  ]
                }
              },
              "status": "Forbidden",
              "code": 403,
              "body": "{\n  \"error\": \"Access denied for this closing\"\n}"
            }
          ]
        },
        {
          "name": "Payment list scoped to owner",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token_usuario_A}}"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/payments",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "payments"
              ]
            }
          },
          "response": [
            {
              "name": "200 Only user A payments",
              "originalRequest": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{token_usuario_A}}"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/payments",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "payments"
                  ]
                }
              },
              "status": "OK",
              "code": 200,
              "body": "{\n  \"payments\": [\n    {\n      \"id\": 1,\n      \"user_id\": 10,\n      \"price\": 1000\n    }\n  ]\n}"
            }
          ]
        },
        {
          "name": "Invoice outside company scope",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token_usuario_B}}"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/invoices/{{invoice_id_empresa_X}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "invoices",
                "{{invoice_id_empresa_X}}"
              ]
            }
          },
          "response": [
            {
              "name": "404 invoice inaccessible",
              "originalRequest": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{token_usuario_B}}"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/invoices/{{invoice_id_empresa_X}}",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "invoices",
                    "{{invoice_id_empresa_X}}"
                  ]
                }
              },
              "status": "Not Found",
              "code": 404,
              "body": "{\n  \"error\": \"Invoice not found or inaccessible\"\n}"
            }
          ]
        }
      ]
    },
    {
      "name": "App Updates",
      "item": [
        {
          "name": "List app updates",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/app_updates",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "app_updates"
              ]
            },
            "description": "Lista todas las versiones cargadas. Requiere permiso `listAppUpdates` y token Bearer."
          },
          "response": []
        },
        {
          "name": "Check latest app update",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/app_updates/latest?current_version=1.0.0",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "app_updates",
                "latest"
              ],
              "query": [
                {
                  "key": "current_version",
                  "value": "1.0.0",
                  "description": "Versión que tiene instalada la app"
                }
              ]
            },
            "description": "Devuelve la última versión publicada y si está disponible una actualización para la versión enviada."
          },
          "response": []
        },
        {
          "name": "Publish app update",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"version_code\": \"1.1.0\",\n  \"release_date\": \"2025-05-20\",\n  \"download_url\": \"https://ejemplo.com/app.apk\",\n  \"change_log\": \"Correcciones y mejoras.\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/app_updates",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "app_updates"
              ]
            },
            "description": "Registra una nueva versión. Requiere permiso `publishAppUpdate` y token Bearer."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Accounts & Accounting Entries",
      "description": "Gestión de cuentas contables, transferencias internas y consulta de asientos. Todos los endpoints requieren token Bearer; el super usuario (ID=1) puede consultar todas las compañías sin restricciones.",
      "item": [
        {
          "name": "Listar cuentas",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/accounts?company_id={{company_id}}&page=1&per_page=20&search=bank&types=asset,liability&with_totals=true",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "accounts"
              ],
              "query": [
                {
                  "key": "company_id",
                  "value": "{{company_id}}"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "per_page",
                  "value": "20"
                },
                {
                  "key": "search",
                  "value": "bank"
                },
                {
                  "key": "types",
                  "value": "asset,liability"
                },
                {
                  "key": "with_totals",
                  "value": "true"
                }
              ]
            },
            "description": "**GET {{base_url}}/accounts**\n\nLista cuentas contables dentro de la compañía seleccionada. Requiere encabezado Authorization con `Bearer {{auth_token}}` y el scope de la empresa (`company_id`), salvo que se use el token del super usuario (ID=1).\n\nParámetros de filtro y paginación disponibles:\n- `company_id` (obligatorio para usuarios no super admin).\n- `search`: filtra por nombre, número o alias.\n- `types`: lista separada por comas (asset, liability, equity, income, expense).\n- `page` y `per_page` para paginación.\n- `with_totals`: true para incluir `debit`, `credit` y `net` acumulados de la cuenta.\n\nEjemplo de respuesta con totales:\n```json\n{\n  \"data\": [\n    {\n      \"id\": 24,\n      \"company_id\": {{company_id}},\n      \"name\": \"Cuenta Banco\",\n      \"number\": \"1101\",\n      \"type\": \"asset\",\n      \"totals\": {\"debit\": 1500.0, \"credit\": 500.0, \"net\": 1000.0}\n    }\n  ],\n  \"pagination\": {\"page\": 1, \"per_page\": 20}\n}\n```"
          },
          "response": []
        },
        {
          "name": "Crear cuenta",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/accounts",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "accounts"
              ]
            },
            "description": "**POST {{base_url}}/accounts**\n\nCrea una cuenta contable dentro de la empresa activa. Requiere token Bearer y permisos sobre la compañía; el super usuario puede omitir `company_id` y quedará asociada automáticamente.",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"company_id\": \"{{company_id}}\",\n  \"name\": \"Caja Principal\",\n  \"number\": \"1000\",\n  \"type\": \"asset\",\n  \"alias\": \"Caja local\",\n  \"currency\": \"ARS\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Crear transferencia",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/transfers",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "transfers"
              ]
            },
            "description": "**POST {{base_url}}/transfers**\n\nGenera una transferencia entre dos cuentas de la misma compañía. Requiere token Bearer y scopes de la empresa. Guarda el `transfer_id` devuelto para rastrear asientos asociados.",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"company_id\": \"{{company_id}}\",\n  \"from_account_id\": \"{{from_account_id}}\",\n  \"to_account_id\": \"{{to_account_id}}\",\n  \"amount\": 500.0,\n  \"reference\": \"Transferencia interna\",\n  \"transfered_at\": \"2024-05-01\",\n  \"notes\": \"Movimiento entre cuentas propias\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            }
          },
          "response": []
        },
        {
          "name": "Consultar asientos contables",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{auth_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/accounting-entries?company_id={{company_id}}&account_id={{account_id}}&origin_type=Transfer&origin_id={{transfer_id}}&start_date=2024-01-01&end_date=2024-12-31&page=1&per_page=50&with_totals=true",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "accounting-entries"
              ],
              "query": [
                {
                  "key": "company_id",
                  "value": "{{company_id}}"
                },
                {
                  "key": "account_id",
                  "value": "{{account_id}}"
                },
                {
                  "key": "origin_type",
                  "value": "Transfer"
                },
                {
                  "key": "origin_id",
                  "value": "{{transfer_id}}"
                },
                {
                  "key": "start_date",
                  "value": "2024-01-01"
                },
                {
                  "key": "end_date",
                  "value": "2024-12-31"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "per_page",
                  "value": "50"
                },
                {
                  "key": "with_totals",
                  "value": "true"
                }
              ]
            },
            "description": "**GET {{base_url}}/accounting-entries**\n\nConsulta asientos contables con filtros por compañía y origen. Requiere token Bearer; el super usuario (ID=1) puede ver todas las compañías.\n\nParámetros de filtro y paginación:\n- `company_id` (obligatorio salvo super user).\n- `account_id`: restringe al mayor de una cuenta específica.\n- `origin_type` y `origin_id`: permiten filtrar por entidad origen (por ejemplo, Transfer o Invoice).\n- `start_date` y `end_date`: rango de fechas del asiento.\n- `page` y `per_page` para paginación.\n- `with_totals`: true para incluir `debit`, `credit` y `net` sumados.\n\nEjemplo de asientos generados para una transferencia:\n```json\n{\n  \"data\": [\n    {\n      \"id\": 301,\n      \"company_id\": {{company_id}},\n      \"account_id\": {{from_account_id}},\n      \"debit\": 0,\n      \"credit\": 500,\n      \"origin_type\": \"Transfer\",\n      \"origin_id\": {{transfer_id}}\n    },\n    {\n      \"id\": 302,\n      \"company_id\": {{company_id}},\n      \"account_id\": {{to_account_id}},\n      \"debit\": 500,\n      \"credit\": 0,\n      \"origin_type\": \"Transfer\",\n      \"origin_id\": {{transfer_id}}\n    }\n  ],\n  \"totals\": {\"debit\": 500, \"credit\": 500, \"net\": 0}\n}\n```"
          },
          "response": []
        }
      ]
    }
  ],
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{auth_token}}",
        "type": "string"
      }
    ]
  },
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "packages": {},
        "exec": [
          ""
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "packages": {},
        "exec": [
          ""
        ]
      }
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "https://sistema.depros.com.ar/",
      "type": "string",
      "description": {
        "content": "URL base del servicio SISA.",
        "type": "text/plain"
      }
    },
    {
      "key": "auth_token",
      "value": "",
      "type": "string",
      "description": {
        "content": "Token Bearer generado al iniciar sesión (obligatorio en todas las rutas salvo registro/login).",
        "type": "text/plain"
      }
    },
    {
      "key": "configuration_id",
      "value": "",
      "type": "string",
      "description": {
        "content": "Identificador de la configuración de usuario que se desea consultar.",
        "type": "text/plain"
      }
    },
    {
      "key": "user_id",
      "value": "",
      "type": "string",
      "description": {
        "content": "ID del usuario autenticado asociado a la configuración esperada.",
        "type": "text/plain"
      }
    },
    {
      "key": "default_payment_cash_box_id",
      "value": "",
      "type": "string",
      "description": {
        "content": "ID de la caja de pago predeterminada que debe devolver la configuración consultada.",
        "type": "text/plain"
      }
    },
    {
      "key": "default_receiving_cash_box_id",
      "value": "",
      "type": "string",
      "description": {
        "content": "ID de la caja de cobro predeterminada que debe devolver la configuración consultada.",
        "type": "text/plain"
      }
    },
    {
      "key": "device_token",
      "value": "ExponentPushToken[xxxxxxxxxxxxxx]",
      "type": "string",
      "description": {
        "content": "Token Expo o FCM que se enviará al endpoint /user-devices.",
        "type": "text/plain"
      }
    },
    {
      "key": "device_platform",
      "value": "ios",
      "type": "string",
      "description": {
        "content": "Plataforma asociada al token registrado: ios, android, web u other.",
        "type": "text/plain"
      }
    },
    {
      "key": "company_id",
      "value": "",
      "type": "string",
      "description": {
        "content": "ID de empresa usado en rutas protegidas; requiere token Bearer con permisos de owner/admin.",
        "type": "text/plain"
      }
    },
    {
      "key": "membership_id",
      "value": "",
      "type": "string",
      "description": {
        "content": "ID de membresía (empresas_usuarios) para consultar historial y acciones de estado.",
        "type": "text/plain"
      }
    },
    {
      "key": "owner_auth_token",
      "value": "",
      "type": "string",
      "description": {
        "content": "Token Bearer de un owner (permiso manageCompanyMemberships / inviteCompanyMembers).",
        "type": "text/plain"
      }
    },
    {
      "key": "admin_auth_token",
      "value": "",
      "type": "string",
      "description": {
        "content": "Token Bearer de administrador habilitado para gestionar miembros y empresas.",
        "type": "text/plain"
      }
    },
    {
      "key": "superuser_token",
      "value": "",
      "type": "string",
      "description": {
        "content": "Token del super usuario (ID=1) con acceso total sin restricciones.",
        "type": "text/plain"
      }
    },
    {
      "key": "account_id",
      "value": "",
      "type": "string",
      "description": {
        "content": "ID de la cuenta contable a consultar; respeta los límites de compañía salvo super usuario (ID=1).",
        "type": "text/plain"
      }
    },
    {
      "key": "from_account_id",
      "value": "",
      "type": "string",
      "description": {
        "content": "ID de la cuenta de origen para transferencias internas de la compañía.",
        "type": "text/plain"
      }
    },
    {
      "key": "to_account_id",
      "value": "",
      "type": "string",
      "description": {
        "content": "ID de la cuenta destino para transferencias internas de la compañía.",
        "type": "text/plain"
      }
    },
    {
      "key": "transfer_id",
      "value": "",
      "type": "string",
      "description": {
        "content": "Identificador de la transferencia creada; se usa para filtrar asientos `origin_id`.",
        "type": "text/plain"
      }
    }
  ]
}
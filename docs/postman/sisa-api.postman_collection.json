{
  "info": {
    "_postman_id": "0b0c1de5-4a9b-4a1f-9dd9-plantillas",
    "name": "SISA API",
    "description": "Colección de endpoints protegidos por token Bearer para pagos, plantillas de pago y empresas.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Autenticación",
      "description": "Obtiene el token Bearer requerido para el resto de las operaciones.",
      "item": [
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"usuario@example.com\",\n  \"password\": \"<contraseña>\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/login",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "login"
              ]
            },
            "description": "Devuelve el token Bearer utilizado en los módulos autenticados."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Pagos",
      "description": "CRUD completo de pagos operativos protegido por token.",
      "auth": {
        "type": "bearer",
        "bearer": [
          {
            "key": "token",
            "value": "{{authToken}}",
            "type": "string"
          }
        ]
      },
      "item": [
        {
          "name": "Listar pagos",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/payments",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "payments"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Crear pago",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"payment_date\": \"2024-07-01\",\n  \"paid_with_account\": \"CAJA_PPAL\",\n  \"payment_template_id\": 6,\n  \"creditor_type\": \"provider\",\n  \"creditor_provider_id\": 12,\n  \"description\": \"Pago de servicio\",\n  \"category_id\": 3,\n  \"price\": 1500.00,\n  \"charge_client\": false,\n  \"attached_files\": []\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/payments",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "payments"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Actualizar pago",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"payment_date\": \"2024-07-02\",\n  \"paid_with_account\": \"CAJA_PPAL\",\n  \"creditor_type\": \"provider\",\n  \"creditor_provider_id\": 12,\n  \"description\": \"Pago ajustado\",\n  \"category_id\": 3,\n  \"price\": 1520.00,\n  \"charge_client\": false,\n  \"attached_files\": []\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/payments/{{paymentId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "payments",
                "{{paymentId}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Eliminar pago",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/payments/{{paymentId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "payments",
                "{{paymentId}}"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Plantillas de pago",
      "description": "Endpoints para administrar las plantillas reutilizables.",
      "auth": {
        "type": "bearer",
        "bearer": [
          {
            "key": "token",
            "value": "{{authToken}}",
            "type": "string"
          }
        ]
      },
      "item": [
        {
          "name": "Listar plantillas",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/payment_templates",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "payment_templates"
              ]
            },
            "description": "Devuelve la colección de plantillas. El backend utiliza \"title\" como nombre, \"price\" para el importe sugerido y \"client_id\" para el cliente a cargar; la app los normaliza al esquema interno."
          },
          "response": []
        },
        {
          "name": "Crear plantilla",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Combustible 30\",\n  \"icon_name\": \"fuel-pump\",\n  \"payment_date\": \"2025-10-30 08:21:47\",\n  \"paid_with_account\": 5,\n  \"creditor_type\": \"provider\",\n  \"creditor_provider_id\": 12,\n  \"description\": \"30 super\",\n  \"category_id\": 3,\n  \"price\": 20000,\n  \"charge_client\": false,\n  \"attached_files\": [29]\n}"
            },
            "description": "Respuesta esperada: {\n  \"message\": \"Template created\",\n  \"template_id\": 6\n}\nEl backend también puede devolver {\"success\": true, \"payment_template_id\": 123} junto con el header Location, que la app interpreta automáticamente.\nLa UI envía tanto los campos nuevos (\"title\", \"price\", \"payment_date\", \"icon_name\", \"attached_files\") como los alias históricos (\"name\", \"default_amount\", etc.) para mantener compatibilidad con versiones anteriores.",
            "url": {
              "raw": "{{baseUrl}}/payment_templates",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "payment_templates"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Actualizar plantilla",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Combustible 30 (ajustada)\",\n  \"icon_name\": \"fuel-pump\",\n  \"payment_date\": \"2025-11-05 09:00:00\",\n  \"paid_with_account\": 7,\n  \"creditor_type\": \"provider\",\n  \"creditor_provider_id\": 12,\n  \"description\": \"Actualización mensual\",\n  \"category_id\": 3,\n  \"price\": 21500,\n  \"charge_client\": false,\n  \"attached_files\": []\n}"
            },
            "description": "Respuesta esperada: {\n  \"message\": \"Template updated\"\n}\nLa app también considera exitosas las respuestas que solo devuelven `204 No Content` siempre que el servidor responda `response.ok`.\nSi no se incluye el objeto completo, la app toma los valores enviados en el payload y el identificador informado por la API.\nEl frontend serializa también los alias históricos (\"name\", \"default_amount\", etc.) para que APIs previas sigan funcionando sin cambios.",
            "url": {
              "raw": "{{baseUrl}}/payment_templates/{{templateId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "payment_templates",
                "{{templateId}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Eliminar plantilla",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/payment_templates/{{templateId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "payment_templates",
                "{{templateId}}"
              ]
            },
            "description": "El backend puede responder `{\"success\": true}`, `{\"message\": \"Template deleted\"}` o simplemente un `204 No Content`. Cualquier variante con `response.ok` provoca que la app refresque el listado y remueva la plantilla local."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Facturación",
      "description": "Endpoints para gestionar facturas y ítems individuales con token Bearer obligatorio.",
      "item": [
        {
          "name": "Listar facturas",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/invoices",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "invoices"
              ]
            },
            "description": "Devuelve la lista paginada de facturas incluyendo ítems e importes calculados cuando están disponibles."
          },
          "response": []
        },
        {
          "name": "Crear factura con ítems",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"invoice_number\": \"A-0001-00004567\",\n  \"client_id\": 120,\n  \"job_ids\": [\n    45,\n    46\n  ],\n  \"issue_date\": \"2024-05-10\",\n  \"currency\": \"ARS\",\n  \"tax_percentage\": 21,\n  \"tax_amount\": 13020,\n  \"concepts\": [\n    {\n      \"concept_code\": \"SERV-001\",\n      \"description\": \"Guardia técnica\",\n      \"quantity\": 8,\n      \"unit_price\": 5500,\n      \"job_id\": 45\n    },\n    {\n      \"concept_code\": \"SERV-002\",\n      \"description\": \"Mantenimiento preventivo\",\n      \"quantity\": 1,\n      \"unit_price\": 18000,\n      \"job_id\": 46\n    }\n  ],\n  \"metadata\": {\n    \"notes\": \"Generada desde app móvil\"\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/invoices",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "invoices"
              ]
            },
            "description": "Crea una factura en estado borrador enviando los ítems normalizados."
          },
          "response": []
        },
        {
          "name": "Actualizar factura y ítems",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"invoice_number\": \"A-0001-00004567\",\n  \"status\": \"draft\",\n  \"concepts\": [\n    {\n      \"id\": 9,\n      \"concept_code\": \"SERV-001\",\n      \"description\": \"Guardia técnica\",\n      \"quantity\": 6,\n      \"unit_price\": 5500,\n      \"job_id\": 45\n    },\n    {\n      \"concept_code\": \"AJUSTE\",\n      \"description\": \"Ajuste manual\",\n      \"quantity\": 1,\n      \"unit_price\": 2500\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/invoices/{{invoiceId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "invoices",
                "{{invoiceId}}"
              ]
            },
            "description": "Actualiza encabezado y lista completa de ítems de la factura indicada."
          },
          "response": []
        },
        {
          "name": "Agregar ítem a factura",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"concept_code\": \"SERV-003\",\n  \"description\": \"Horas extra\",\n  \"quantity\": 4,\n  \"unit_price\": 4500,\n  \"job_id\": 47\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/invoices/{{invoiceId}}/items",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "invoices",
                "{{invoiceId}}",
                "items"
              ]
            },
            "description": "Agrega un concepto puntual sin reenviar la factura completa."
          },
          "response": []
        },
        {
          "name": "Actualizar concepto de factura",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"description\": \"Horas extra nocturnas\",\n  \"quantity\": 5,\n  \"unit_price\": 4700\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/invoices/{{invoiceId}}/items/{{invoiceItemId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "invoices",
                "{{invoiceId}}",
                "items",
                "{{invoiceItemId}}"
              ]
            },
            "description": "Modifica un concepto existente utilizando el identificador del ítem."
          },
          "response": []
        },
        {
          "name": "Eliminar concepto de factura",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/invoices/{{invoiceId}}/items/{{invoiceItemId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "invoices",
                "{{invoiceId}}",
                "items",
                "{{invoiceItemId}}"
              ]
            },
            "description": "Elimina el concepto indicado dejando registro en el historial de la factura."
          },
          "response": []
        },
        {
          "name": "Emitir factura",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"invoice_number\": \"A-0001-00004567\",\n  \"issue_date\": \"2024-05-12\",\n  \"notes\": \"Confirmada por el cliente\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/invoices/{{invoiceId}}/issue",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "invoices",
                "{{invoiceId}}",
                "issue"
              ]
            },
            "description": "Confirma una factura borrador y la marca como emitida. El cuerpo es opcional; si se envía, permite actualizar campos como `invoice_number` o `issue_date` justo antes de la emisión definitiva."
          },
          "response": []
        },
        {
          "name": "Historial de factura",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/invoices/{{invoiceId}}/history",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "invoices",
                "{{invoiceId}}",
                "history"
              ]
            },
            "description": "Devuelve la lista de eventos (creación, ediciones, emisión, anulaciones, regeneraciones) asociados a una factura específica. Es el endpoint que alimenta el modal de historial en la app."
          },
          "response": []
        },
        {
          "name": "Historial global de facturas",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/invoices/history?event=issued&user_id=1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "invoices",
                "history"
              ],
              "query": [
                {
                  "key": "event",
                  "value": "issued"
                },
                {
                  "key": "user_id",
                  "value": "1"
                }
              ]
            },
            "description": "Feed global filtrable por tipo de evento (`event`), usuario (`user_id`) o rangos temporales (`from`, `to`). Útil para auditorías masivas y conciliaciones."
          },
          "response": []
        },
        {
          "name": "Regenerar PDF de factura",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/invoices/{{invoiceId}}/regenerate_pdf",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "invoices",
                "{{invoiceId}}",
                "regenerate_pdf"
              ]
            },
            "description": "Solicita al backend que vuelva a generar el PDF asociado a la factura cuando se actualizan metadatos permitidos tras la emisión (por ejemplo, notas internas o datos fiscales secundarios)."
          },
          "response": []
        }
      ]
    },
    {
      "name": "Companies",
      "item": [
        {
          "name": "List Companies",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/companies",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies"
              ]
            },
            "description": "**GET {baseUrl}/companies**\n\nDescripción: Endpoint `List Companies` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Get Companies",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/companies/{{company_id}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "{{company_id}}"
              ]
            },
            "description": "**GET {baseUrl}/companies/{{company_id}}**\n\nDescripción: Endpoint `Get Companies` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Create Companies",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"razon_social\": \"Empresa Ejemplo SA\",\n  \"id_tipo_doc\": 80,\n  \"nro_doc\": 20111222333,\n  \"id_condicion_iva\": 1,\n  \"nombre_fantasia\": \"Marca Ejemplo\",\n  \"iibb\": \"123-456789-0\",\n  \"inicio_actividad\": \"2021-01-01\",\n  \"profile_file_id\": null,\n  \"activo\": 1,\n  \"timestamp\": \"{{company_timestamp}}\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/companies",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies"
              ]
            },
            "description": "**POST {baseUrl}/companies**\n\nDescripción: Endpoint `Create Companies` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "const now = new Date();",
                  "const offsetMs = now.getTimezoneOffset() * 60000;",
                  "const local = new Date(now.getTime() - offsetMs);",
                  "const formatted = local.toISOString().slice(0, 19).replace('T', ' ');",
                  "pm.collectionVariables.set('company_timestamp', formatted);"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status code is 201', function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "const jsonData = pm.response.json();",
                  "if (jsonData && jsonData.id) {",
                  "    pm.collectionVariables.set('company_id', jsonData.id);",
                  "}",
                  "pm.collectionVariables.set('company_history_expected', 1);"
                ]
              }
            }
          ]
        },
        {
          "name": "Create Companies (duplicate timestamp)",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "const jsonData = pm.response.json();",
                  "const expectedId = Number(pm.collectionVariables.get('company_id'));",
                  "pm.test('Duplicate creation reused company id', function () {",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(Number(jsonData.id)).to.eql(expectedId);",
                  "});",
                  "pm.collectionVariables.set('company_history_expected', 1);"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"razon_social\": \"Empresa Ejemplo SA\",\n  \"id_tipo_doc\": 80,\n  \"nro_doc\": 20111222333,\n  \"id_condicion_iva\": 1,\n  \"nombre_fantasia\": \"Marca Ejemplo\",\n  \"iibb\": \"123-456789-0\",\n  \"inicio_actividad\": \"2021-01-01\",\n  \"profile_file_id\": null,\n  \"activo\": 1,\n  \"timestamp\": \"{{company_timestamp}}\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/companies",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies"
              ]
            },
            "description": "**POST {baseUrl}/companies**\n\nDescripción: Endpoint `Create Companies` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Update Companies",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre_fantasia\": \"Marca Renovada\",\n  \"profile_file_id\": 42,\n  \"activo\": 1,\n  \"timestamp\": \"{{company_update_timestamp}}\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/companies/{{company_id}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "{{company_id}}"
              ]
            },
            "description": "**PUT {baseUrl}/companies/{{company_id}}**\n\nDescripción: Endpoint `Update Companies` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "const now = new Date();",
                  "const offsetMs = now.getTimezoneOffset() * 60000;",
                  "const local = new Date(now.getTime() - offsetMs);",
                  "const formatted = local.toISOString().slice(0, 19).replace('T', ' ');",
                  "pm.collectionVariables.set('company_update_timestamp', formatted);"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "const jsonData = pm.response.json();",
                  "pm.test('Update operation succeeded', function () {",
                  "    pm.expect(jsonData).to.have.property('message', 'Company updated');",
                  "});",
                  "pm.collectionVariables.set('company_history_expected', 2);"
                ]
              }
            }
          ]
        },
        {
          "name": "Update Companies (duplicate timestamp)",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "const jsonData = pm.response.json();",
                  "pm.test('Duplicate update acknowledged', function () {",
                  "    pm.expect(jsonData).to.have.property('message', 'Company updated');",
                  "});",
                  "pm.collectionVariables.set('company_history_expected', 2);"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre_fantasia\": \"Marca Renovada\",\n  \"profile_file_id\": 42,\n  \"activo\": 1,\n  \"timestamp\": \"{{company_update_timestamp}}\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/companies/{{company_id}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "{{company_id}}"
              ]
            },
            "description": "**PUT {baseUrl}/companies/{{company_id}}**\n\nDescripción: Endpoint `Update Companies` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Delete Companies",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"timestamp\": \"{{company_delete_timestamp}}\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/companies/{{company_id}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "{{company_id}}"
              ]
            },
            "description": "**DELETE {baseUrl}/companies/{{company_id}}**\n\nDescripción: Endpoint `Delete Companies` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": [],
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "const now = new Date();",
                  "const offsetMs = now.getTimezoneOffset() * 60000;",
                  "const local = new Date(now.getTime() - offsetMs);",
                  "const formatted = local.toISOString().slice(0, 19).replace('T', ' ');",
                  "pm.collectionVariables.set('company_delete_timestamp', formatted);"
                ]
              }
            },
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "const jsonData = pm.response.json();",
                  "pm.test('Delete operation succeeded', function () {",
                  "    pm.expect(jsonData).to.have.property('message', 'Company deleted');",
                  "});",
                  "pm.collectionVariables.set('company_history_expected', 3);"
                ]
              }
            }
          ]
        },
        {
          "name": "Delete Companies (duplicate timestamp)",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "const jsonData = pm.response.json();",
                  "pm.test('Duplicate deletion acknowledged', function () {",
                  "    pm.expect(jsonData).to.have.property('message', 'Company deleted');",
                  "});",
                  "pm.collectionVariables.set('company_history_expected', 3);"
                ]
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"timestamp\": \"{{company_delete_timestamp}}\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/companies/{{company_id}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "{{company_id}}"
              ]
            },
            "description": "**DELETE {baseUrl}/companies/{{company_id}}**\n\nDescripción: Endpoint `Delete Companies` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Company History",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/companies/{{company_id}}/history",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "{{company_id}}",
                "history"
              ]
            },
            "description": "**GET {baseUrl}/companies/{{company_id}}/history**\n\nDescripción: Endpoint `Company History` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "const jsonData = pm.response.json();",
                  "const records = (jsonData && jsonData.data) ? jsonData.data : [];",
                  "const expected = Number(pm.collectionVariables.get('company_history_expected') || 0);",
                  "pm.test('History count matches expectation', function () {",
                  "    pm.expect(records.length).to.eql(expected);",
                  "});"
                ]
              }
            }
          ]
        },
        {
          "name": "List Company Addresses",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/company-addresses",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "company-addresses"
              ]
            },
            "description": "**GET {baseUrl}/company-addresses**\n\nDescripción: Endpoint `List Company Addresses` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Get Company Addresses",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/company-addresses/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "company-addresses",
                "1"
              ]
            },
            "description": "**GET {baseUrl}/company-addresses/1**\n\nDescripción: Endpoint `Get Company Addresses` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Create Company Addresses",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"empresa_id\": 1,\n  \"etiqueta\": \"Oficina Central\",\n  \"pais\": \"Argentina\",\n  \"provincia\": \"Buenos Aires\",\n  \"ciudad\": \"La Plata\",\n  \"calle\": \"Calle 50\",\n  \"numero\": \"123\",\n  \"es_principal\": 1\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/company-addresses",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "company-addresses"
              ]
            },
            "description": "**POST {baseUrl}/company-addresses**\n\nDescripción: Endpoint `Create Company Addresses` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Update Company Addresses",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"ciudad\": \"Buenos Aires\",\n  \"es_principal\": 0\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/company-addresses/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "company-addresses",
                "1"
              ]
            },
            "description": "**PUT {baseUrl}/company-addresses/1**\n\nDescripción: Endpoint `Update Company Addresses` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Delete Company Addresses",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"timestamp\": \"2024-01-01 00:00:00\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/company-addresses/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "company-addresses",
                "1"
              ]
            },
            "description": "**DELETE {baseUrl}/company-addresses/1**\n\nDescripción: Endpoint `Delete Company Addresses` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Company Address History",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/company-addresses/1/history",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "company-addresses",
                "1",
                "history"
              ]
            },
            "description": "**GET {baseUrl}/company-addresses/1/history**\n\nDescripción: Endpoint `Company Address History` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "List Contacts",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/contacts",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "contacts"
              ]
            },
            "description": "**GET {baseUrl}/contacts**\n\nDescripción: Endpoint `List Contacts` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Get Contacts",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/contacts/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "contacts",
                "1"
              ]
            },
            "description": "**GET {baseUrl}/contacts/1**\n\nDescripción: Endpoint `Get Contacts` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Create Contacts",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"nombre\": \"María\",\n  \"apellido\": \"Pérez\",\n  \"cargo\": \"Gerente\",\n  \"notas\": \"Contacto principal\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/contacts",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "contacts"
              ]
            },
            "description": "**POST {baseUrl}/contacts**\n\nDescripción: Endpoint `Create Contacts` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Update Contacts",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"cargo\": \"Directora Comercial\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/contacts/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "contacts",
                "1"
              ]
            },
            "description": "**PUT {baseUrl}/contacts/1**\n\nDescripción: Endpoint `Update Contacts` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Delete Contacts",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"timestamp\": \"2024-01-01 00:00:00\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/contacts/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "contacts",
                "1"
              ]
            },
            "description": "**DELETE {baseUrl}/contacts/1**\n\nDescripción: Endpoint `Delete Contacts` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Contact History",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/contacts/1/history",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "contacts",
                "1",
                "history"
              ]
            },
            "description": "**GET {baseUrl}/contacts/1/history**\n\nDescripción: Endpoint `Contact History` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "List Company Contacts",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/company-contacts",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "company-contacts"
              ]
            },
            "description": "**GET {baseUrl}/company-contacts**\n\nDescripción: Endpoint `List Company Contacts` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Get Company Contacts",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/company-contacts/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "company-contacts",
                "1"
              ]
            },
            "description": "**GET {baseUrl}/company-contacts/1**\n\nDescripción: Endpoint `Get Company Contacts` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Create Company Contacts",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"empresa_id\": 1,\n  \"contacto_id\": 1,\n  \"departamento\": \"Ventas\",\n  \"es_principal\": 1\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/company-contacts",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "company-contacts"
              ]
            },
            "description": "**POST {baseUrl}/company-contacts**\n\nDescripción: Endpoint `Create Company Contacts` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Update Company Contacts",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"departamento\": \"Soporte\",\n  \"es_principal\": 0\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/company-contacts/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "company-contacts",
                "1"
              ]
            },
            "description": "**PUT {baseUrl}/company-contacts/1**\n\nDescripción: Endpoint `Update Company Contacts` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Delete Company Contacts",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"timestamp\": \"2024-01-01 00:00:00\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/company-contacts/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "company-contacts",
                "1"
              ]
            },
            "description": "**DELETE {baseUrl}/company-contacts/1**\n\nDescripción: Endpoint `Delete Company Contacts` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Company Contact History",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/company-contacts/1/history",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "company-contacts",
                "1",
                "history"
              ]
            },
            "description": "**GET {baseUrl}/company-contacts/1/history**\n\nDescripción: Endpoint `Company Contact History` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "List Company Channels",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/company-channels",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "company-channels"
              ]
            },
            "description": "**GET {baseUrl}/company-channels**\n\nDescripción: Endpoint `List Company Channels` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Get Company Channels",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/company-channels/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "company-channels",
                "1"
              ]
            },
            "description": "**GET {baseUrl}/company-channels/1**\n\nDescripción: Endpoint `Get Company Channels` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Create Company Channels",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"empresa_id\": 1,\n  \"tipo\": \"email\",\n  \"valor\": \"contacto@empresa.com\",\n  \"etiqueta\": \"Atención\",\n  \"es_principal\": 1,\n  \"verificado\": 1\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/company-channels",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "company-channels"
              ]
            },
            "description": "**POST {baseUrl}/company-channels**\n\nDescripción: Endpoint `Create Company Channels` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Update Company Channels",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"valor\": \"ventas@empresa.com\",\n  \"etiqueta\": \"Ventas\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/company-channels/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "company-channels",
                "1"
              ]
            },
            "description": "**PUT {baseUrl}/company-channels/1**\n\nDescripción: Endpoint `Update Company Channels` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Delete Company Channels",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"timestamp\": \"2024-01-01 00:00:00\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/company-channels/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "company-channels",
                "1"
              ]
            },
            "description": "**DELETE {baseUrl}/company-channels/1**\n\nDescripción: Endpoint `Delete Company Channels` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Company Channel History",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/company-channels/1/history",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "company-channels",
                "1",
                "history"
              ]
            },
            "description": "**GET {baseUrl}/company-channels/1/history**\n\nDescripción: Endpoint `Company Channel History` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "List Contact Channels",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/contact-channels",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "contact-channels"
              ]
            },
            "description": "**GET {baseUrl}/contact-channels**\n\nDescripción: Endpoint `List Contact Channels` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Get Contact Channels",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/contact-channels/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "contact-channels",
                "1"
              ]
            },
            "description": "**GET {baseUrl}/contact-channels/1**\n\nDescripción: Endpoint `Get Contact Channels` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Create Contact Channels",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"contacto_id\": 1,\n  \"tipo\": \"telefono\",\n  \"valor\": \"+54 11 1234 5678\",\n  \"etiqueta\": \"Celular\",\n  \"es_principal\": 1,\n  \"verificado\": 0\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/contact-channels",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "contact-channels"
              ]
            },
            "description": "**POST {baseUrl}/contact-channels**\n\nDescripción: Endpoint `Create Contact Channels` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Update Contact Channels",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"valor\": \"+54 11 9999 8888\",\n  \"verificado\": 1\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/contact-channels/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "contact-channels",
                "1"
              ]
            },
            "description": "**PUT {baseUrl}/contact-channels/1**\n\nDescripción: Endpoint `Update Contact Channels` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Delete Contact Channels",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"timestamp\": \"2024-01-01 00:00:00\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/contact-channels/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "contact-channels",
                "1"
              ]
            },
            "description": "**DELETE {baseUrl}/contact-channels/1**\n\nDescripción: Endpoint `Delete Contact Channels` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Contact Channel History",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/contact-channels/1/history",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "contact-channels",
                "1",
                "history"
              ]
            },
            "description": "**GET {baseUrl}/contact-channels/1/history**\n\nDescripción: Endpoint `Contact Channel History` dentro de Companies.\n\n> Comentario: Requiere enviar el encabezado Authorization con el valor `Bearer {auth_token}`."
          },
          "response": []
        },
        {
          "name": "Search Companies (by name or document)",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{authToken}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/companies/search?q={{search_text}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "search"
              ],
              "query": [
                {
                  "key": "q",
                  "value": "{{search_text}}",
                  "description": "Texto a buscar en razón social o nombre fantasia"
                },
                {
                  "key": "doc",
                  "value": "",
                  "description": "Opcional: número de documento exacto"
                }
              ]
            },
            "description": "**GET {baseUrl}/companies/search**\n\nDescripción: Busca compañías utilizando coincidencias parciales en razón social o nombre de fantasía y opcionalmente por documento.\n\n> Comentario: Requiere token Bearer en Authorization."
          },
          "response": []
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "https://sistema.depros.com.ar"
    },
    {
      "key": "authToken",
      "value": ""
    },
    {
      "key": "paymentId",
      "value": "1"
    },
    {
      "key": "templateId",
      "value": "1"
    },
    {
      "key": "invoiceId",
      "value": "1"
    },
    {
      "key": "invoiceItemId",
      "value": "1"
    }
  ]
}
